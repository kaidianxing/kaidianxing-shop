(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[79],{"6b39":function(e,t,i){"use strict";i.r(t);var n=i("84da"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"84da":function(e,t,i){(function(e){var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("a64f")),a={mixins:[o.default],name:"list",components:{},props:{},data:function(){return{type:"",page:1,is_weixin:!1,loading:!1,count:0,show_style:!0,list:[],wechat_address:0,isChoose:!1}},computed:{loadingType:function(){var e=0;return this.loading?e=1:this.list.length==this.count&&this.count>0&&0==this.loading&&this.list.length>20&&(e=2),e}},created:function(){},onShow:function(){this.isChoose||this.reset()},beforeMount:function(){var e,t;this.wechat_address=(null===(e=this.$store.state.setting)||void 0===e||null===(t=e.systemSetting)||void 0===t?void 0:t.wechat_address)||0},mounted:function(){var e,t;this.type=null!==(e=null===(t=this.$Route.query)||void 0===t?void 0:t.type)&&void 0!==e?e:""},methods:{getList:function(){var e=this,t={page:this.page};this.loading=!0,this.$api.memberApi.getAddressList(t).then((function(i){0==i.error?(i.list.list.length>0&&(null===t||void 0===t?void 0:t.page)>1&&(e.list=e.list.concat(i.list.list),e.page=e.page+1),1==(null===t||void 0===t?void 0:t.page)&&i.list.list.length>0&&(e.list=i.list.list),e.loading=!1,e.count=i.list.total):-10004!==i.error&&e.$toast(i.message),e.graceLazyload.load(0,e)}))},selectAddress:function(e){this.$store.commit("orderCreate/setOrderCreateInfo",{address_id:e,changeAddress:!0}),"order"==this.type?this.$Router.back(1):this.$Router.auto({path:"/kdxMember/address/index",query:{id:e,type:this.type||""}})},editAddress:function(e){this.$Router.auto({path:"/kdxMember/address/index",query:{id:e,type:this.type||""}})},add:function(){this.$Router.auto({path:"/kdxMember/address/index",query:{type:this.type||""}})},importAddress:function(){var e=this;this.changeActionType(!0),uni.getSetting({success:function(t){t.authSetting["scope.address"]?e.wxAddress():uni.authorize({scope:"scope.address",success:function(t){e.wxAddress()},fail:function(t){e.changeActionType(!1),uni.showModal({title:"是否打开设置页",content:"要在设置中获取地址信息",success:function(t){t.confirm&&e.open()}})}})},fail:function(){e.changeActionType(!1)}})},open:function(){var t=this;uni.openSetting({success:function(i){e.log("openSetting"),i.authSetting["scope.address"]&&t.wxAddress()},fail:function(t){e.log(t)}})},wxAddress:function(){var e=this;uni.chooseAddress({success:function(t){var i={name:t.userName,mobile:t.telNumber,province:t.provinceName,city:t.cityName,area:t.countyName,address:t.detailInfo};e.addAddress(i)},fail:function(){e.changeActionType(!1)}})},addAddress:function(e){var t=this;this.$api.memberApi.addAddress(e).then((function(e){0==e.error?(t.reset(),t.$toast("添加成功")):t.$toast(e.message)})).finally((function(){t.changeActionType(!1)}))},reset:function(){this.list=[],this.page=1,this.getList()},changeActionType:function(e){this.isChoose=e}},onPullDownRefresh:function(){e.log("onPullDownRefresh"),this.reset(),setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){e.log("onReachBottom"),this.getList()},onPageScroll:function(e){this.graceLazyload.load(e.scrollTop,this)}};t.default=a}).call(this,i("5a52")["default"])},"894e":function(e,t,i){var n=i("f5ea");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("b33cde18",n,!0,{sourceMap:!1,shadowMode:!1})},a152:function(e,t,i){"use strict";var n=i("894e"),o=i.n(n);o.a},a64f:function(e,t,i){(function(e){var n=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("28a5");var o=n(i("ade3")),a=i("2f62"),s=n(i("fead")),r=(n(i("b531")),i("3014"));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,o.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={created:function(){this.startTime=+new Date},data:function(){return{loadingFlg:0}},watch:{isSkeleton:function(e){e||++this.loadingFlg}},mounted:function(){e.error("组建的渲染时间："+this.__route__+"："+(+new Date-this.startTime))},computed:c(c({},(0,a.mapGetters)("loading",["isSkeleton"])),(0,a.mapState)("setting",{shareTitle:function(e){var t,i;return(null===(t=e.systemSetting)||void 0===t||null===(i=t.share)||void 0===i?void 0:i.title)||""},shareDesc:function(e){var t,i;return(null===(t=e.systemSetting)||void 0===t||null===(i=t.share)||void 0===i?void 0:i.description)||""},shareLogo:function(e){var t,i;return null===(t=e.systemSetting)||void 0===t||null===(i=t.share)||void 0===i?void 0:i.logo}})),methods:{handlerOptions:function(e){if(null!==e&&void 0!==e&&e.scene){for(var t=decodeURIComponent(decodeURIComponent(null===e||void 0===e?void 0:e.scene)).split("&"),i={},n=0;n<t.length;n++){var o=t[n].split("=");i[o[0]]=o[1]}null!==i&&void 0!==i&&i.inviter_id&&r.sessionStorage.setItem("inviter-id",i.inviter_id)}}},onPullDownRefresh:function(){var e=this;"function"==typeof this.pullDownRefresh&&this.pullDownRefresh(),setTimeout((function(){e.$closePageLoading()}),2e3)},onLoad:function(e){this.showTabbar=!0},onShow:function(){var e,t,i;uni.hideLoading(),s.default.setNavigationBarColor(this.$Route),this.$decorator.getPage(this.$Route.path).onLoad();var n,o,a,d,c=this.$Route.query;(null!==c&&void 0!==c&&c.inviter_id&&r.sessionStorage.setItem("inviter-id",c.inviter_id),this.$decorator.getDecorateModel({pagePath:this.$Route.path,otherdata:c}),null!==(e=this.pageInfo)&&void 0!==e&&e.gotop&&null!==(t=this.pageInfo.gotop.params)&&void 0!==t&&t.scrollTop)?this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:(null===(n=this.pageInfo.gotop)||void 0===n||null===(o=n.params)||void 0===o?void 0:o.scrollTop)>=(null===(a=this.pageInfo.gotop)||void 0===a||null===(d=a.params)||void 0===d?void 0:d.gotopheight)}},"pagemixin/onshow1"):null!==(i=this.pageInfo)&&void 0!==i&&i.gotop&&this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:!1,params:{scrolltop:0}}},"pagemixin/onshow2")},onHide:function(){this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:!1}},"pagemixin/onhide"),this.$closePageLoading()},onPageScroll:function(e){this.$decorator.getModule("gotop").onPageScroll(e,this.$Route)}};t.default=l}).call(this,i("5a52")["default"])},d195:function(e,t,i){"use strict";i.r(t);var n=i("e807"),o=i("6b39");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("a152");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"00815e43",null,!1,n["a"],s);t["default"]=d.exports},e807:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page-box",[i("v-uni-view",{staticClass:"member-address-list flex-column"},[e.list.length>0?i("v-uni-view",{staticClass:"container flex1"},[e._l(e.list,(function(t,n){return i("v-uni-view",{key:n,staticClass:"address-card",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectAddress(t.id)}}},[i("v-uni-view",{staticClass:"name"},[i("v-uni-text",[e._v(e._s(t.name))]),i("v-uni-text",[e._v(e._s(t.mobile.replace(t.mobile.substring(3,7),"****")))]),1==t.is_default?i("v-uni-text",{staticClass:"default theme-sub-bgcolor theme-spec-bgcolor theme-primary-color"},[e._v("默认")]):e._e()],1),i("v-uni-view",{staticClass:"info two-line-hide uni-text-color-grey"},[e._v(e._s(t.province+t.city+t.area+t.address))]),i("v-uni-view",{staticClass:"edit-icon",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.editAddress(t.id)}}},[i("i",{staticClass:"iconfont-m- icon-m-tianjiadizhi-bianji"})])],1)})),e.list.length!=e.count?i("page-loading",{attrs:{loadingType:e.loadingType}}):e._e()],2):e._e(),e.count<=0?i("v-uni-view",{staticClass:"default-page flex-column"},[i("v-uni-view",{staticClass:"bg"},[i("v-uni-image",{attrs:{src:e.$utils.staticMediaUrl("default/address.png")}})],1),i("v-uni-view",{staticClass:"default-text"},[e._v("你还没有收货地址哦，添加一个吧")])],1):e._e()],1),i("template",{slot:"foot"},[i("v-uni-view",{staticClass:"addressBorder"},[i("v-uni-view",{staticClass:"button flex"},[e.is_weixin&&1==e.wechat_address?i("v-uni-view",{staticClass:"rr-btn favorite-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.importAddress.apply(void 0,arguments)}}},[i("i",{staticClass:"iconfont-m- icon-m-qudao-weixin"}),e._v("微信导入地址")]):e._e(),i("v-uni-view",{staticClass:"rr-btn add-btn theme-primary-bgcolor",class:e.is_weixin&&1==e.wechat_address?"radius":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.add.apply(void 0,arguments)}}},[e._v("新建收货地址")])],1)],1)],1)],2)},a=[]},f5ea:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.member-address-list[data-v-00815e43]{min-height:100%;padding:%?16?% %?24?% %?100?%;background-color:#f5f5f5;box-sizing:border-box}.member-address-list .container[data-v-00815e43]{overflow:auto}.member-address-list .container .address-card[data-v-00815e43]{position:relative;padding:%?24?% %?120?% %?24?% %?24?%;background-color:#fff;margin-bottom:%?16?%;border-radius:%?12?%}.member-address-list .container .address-card .edit-icon[data-v-00815e43]{position:absolute;right:%?24?%;top:43%}.member-address-list .container .address-card .edit-icon i[data-v-00815e43]{color:#969696;font-size:%?40?%}.member-address-list .container .address-card .info[data-v-00815e43]{font-size:%?24?%;line-height:%?34?%}.member-address-list .container .address-card .name[data-v-00815e43]{line-height:%?40?%;margin-bottom:%?8?%}.member-address-list .container .address-card .name uni-text[data-v-00815e43]:nth-child(2){margin:0 %?16?%}.member-address-list .container .address-card .name uni-text[data-v-00815e43]{color:#212121}.member-address-list .container .address-card .default[data-v-00815e43]{padding:1px %?16?%;height:%?36?%;line-height:%?36?%;background-color:#fff3f5;border-radius:%?19?%;text-align:center;font-size:%?24?%}.addressBorder[data-v-00815e43]{border-top:1px solid #e6e7eb;padding:%?14?% %?24?%;background:#fff}.favorite-btn[data-v-00815e43]{width:50%;color:#212121;background-color:#fff;border-radius:%?40?% 0 0 %?40?%;border:1px solid #e6e7eb}.favorite-btn i[data-v-00815e43]{color:#1bb723;font-size:%?36?%}.add-btn[data-v-00815e43]{height:%?80?%;line-height:%?80?%;background:-webkit-linear-gradient(left,#ff3c29,#ff6f29);background:linear-gradient(90deg,#ff3c29,#ff6f29);border-radius:%?40?%;text-align:center;color:#fff;font-weight:400}.radius[data-v-00815e43]{width:50%;border-radius:0 %?40?% %?40?% 0}',""]),e.exports=t}}]);