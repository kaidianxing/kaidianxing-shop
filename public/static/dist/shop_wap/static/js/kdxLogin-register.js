(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[75],{2741:function(e,t,r){"use strict";r.r(t);var n=r("65cc"),o=r.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"480e":function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("login-box",{attrs:{"is-login":!1}},[r("register-code")],1)},i=[]},"56f1":function(e,t,r){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r("3d27")),i=n(r("c997")),a=n(r("a64f")),d={mixins:[a.default],components:{LoginBox:o.default,RegisterCode:i.default}};t.default=d},"65cc":function(e,t,r){var n=r("4ea4");r("8e6e"),r("ac6a"),r("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("a481");var o=n(r("ade3")),i=n(r("1498")),a=n(r("e246")),d=n(r("6e88")),c=n(r("71c5")),u=r("2f62"),l=r("e822");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={components:{LongBtn:i.default,VcodeBtn:a.default,LoginInput:d.default,VcodeImgBtn:c.default},data:function(){return{model:{mobile:"",code:"",verify_code:""},rules:{mobile:[{validator:l.validMobile}],code:[{validator:l.validCode}],verify_code:[{validator:l.validVerify}]},errStatus:{}}},methods:s(s({},(0,u.mapMutations)("login",["setRegistData"])),{},{sendSms:function(){var e=this;(0,l.validate)(this.rules,this.model,(function(t){t&&(t.mobile||t.verify_code)?e.errStatus={mobile:t.mobile,verify_code:t.verify_code}:e.$api.loginApi.sendSms({mobile:e.model.mobile,verify_code:e.model.verify_code,type:"user_reg"}).then((function(t){0===t.error?(e.$refs.code.start(),uni.showToast({title:"发送成功",icon:"none"})):e.$refs.imgCode.refresh()}))}))},submitData:function(){var e=this;(0,l.validate)(this.rules,this.model,(function(t){t?e.errStatus=s({},t):e.validCode()}))},validCode:function(){var e=this;this.$api.loginApi.validateCode({mobile:this.model.mobile,code:this.model.code,type:"user_reg"}).then((function(t){if(0===t.error){e.setRegistData(e.model);var r=getCurrentPages(),n=r.length;r.length>1&&"/kdxLogin/index"!==r[n-1].route?e.$Router.replace("/kdxLogin/setPass"):e.$Router.auto("/kdxLogin/setPass")}else e.$refs.imgCode.refresh()}))},confirmHandler:function(){this.model.mobile&&this.model.code&&this.model.verify_code&&(this.submitData(),uni.hideKeyboard())}})};t.default=v},c997:function(e,t,r){"use strict";r.r(t);var n=r("ccca"),o=r("2741");for(var i in o)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(i);var a,d=r("f0c5"),c=Object(d["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=c.exports},ccca:function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"register-code"},[r("login-input",{attrs:{type:"number",maxlength:11,placeholder:"请输入手机号",clearable:!0,"error-text":e.errStatus.mobile},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)}},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}}),r("login-input",{attrs:{placeholder:"请输入图形验证码",required:!0,maxlength:4,"error-text":e.errStatus.verify_code},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"verify_code",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"verify_code",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[r("vcode-img-btn",{ref:"imgCode"})]},proxy:!0}]),model:{value:e.model.verify_code,callback:function(t){e.$set(e.model,"verify_code",t)},expression:"model.verify_code"}}),r("login-input",{attrs:{type:"number",maxlength:6,"error-text":e.errStatus.code,placeholder:"请输入短信验证码","confirm-type":"go"},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"code",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"code",t)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmHandler.apply(void 0,arguments)}},scopedSlots:e._u([{key:"append",fn:function(){return[r("vcode-btn",{ref:"code",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSms.apply(void 0,arguments)}}})]},proxy:!0}]),model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}}),r("long-btn",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitData.apply(void 0,arguments)}}},[e._v("下一步")])],1)},i=[]},d5de:function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-2121e157] .grace-page-body{background-color:#fff}[data-v-2121e157] .register-code .my-long-button{margin:%?96?% auto 0;width:%?590?%}',""]),e.exports=t},da0f:function(e,t,r){"use strict";var n=r("f0ba"),o=r.n(n);o.a},dfaa:function(e,t,r){"use strict";r.r(t);var n=r("56f1"),o=r.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},ee7c:function(e,t,r){"use strict";r.r(t);var n=r("480e"),o=r("dfaa");for(var i in o)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(i);r("da0f");var a,d=r("f0c5"),c=Object(d["a"])(o["default"],n["b"],n["c"],!1,null,"2121e157",null,!1,n["a"],a);t["default"]=c.exports},f0ba:function(e,t,r){var n=r("d5de");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=r("4f06").default;o("4908d171",n,!0,{sourceMap:!1,shadowMode:!1})}}]);