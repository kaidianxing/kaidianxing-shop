(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[113],{4472:function(t,e,a){"use strict";a.r(e);var n=a("ddd3"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(l);e["default"]=i.a},"4fadc":function(t,e,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"539b":function(t,e,a){"use strict";a("ed05")},"6f53":function(t,e,a){var n=a("83ab"),i=a("e330"),l=a("df75"),o=a("fc6a"),r=a("d1e7").f,s=i(r),c=i([].push),u=function(t){return function(e){var a,i=o(e),r=l(i),u=r.length,d=0,g=[];while(u>d)a=r[d++],n&&!s(i,a)||c(g,t?[a,i[a]]:i[a]);return g}};t.exports={entries:u(!0),values:u(!1)}},8485:function(t,e,a){"use strict";a.r(e);var n=a("8959"),i=a("4472");for(var l in i)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(l);a("539b");var o=a("2877"),r=Object(o["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"5aabb129",null);e["default"]=r.exports},8959:function(t,e,a){"use strict";var n=a("a9bc");a.o(n,"render")&&a.d(e,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},a9bc:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("kdx-content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[e("Button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.handleSubmit}},[t._v("提交 ")])]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("kdx-hint-alert",{attrs:{showIcon:!1}},[e("div",{staticClass:"description"},[e("div",{staticClass:"tit"},[t._v("任务类型说明")]),e("div",{staticClass:"desc"},[t._v(" 被动触发：当有用户访问商城时计划任务才进行工作，根据任务模式的参数进行任务内容 ")]),e("div",{staticClass:"desc"},[t._v(" 代码配置：需要配置操作系统的计划任务,如果没有配置，则不会进行自动收货等计划任务 ")])])]),e("div",{staticClass:"content-body"},[e("Form",{ref:"form",attrs:{model:t.formData,"label-width":120,rules:t.rules}},[e("FormItem",{attrs:{label:"任务类型：",prop:"execute_type"}},[e("RadioGroup",{model:{value:t.formData.execute_type,callback:function(e){t.$set(t.formData,"execute_type",e)},expression:"formData.execute_type"}},[e("Radio",{attrs:{label:"0"}},[e("span",[t._v("被动触发")])]),e("Radio",{attrs:{label:"1"}},[e("span",[t._v("代码配置（主动触发）")])])],1)],1),"0"===t.formData.execute_type?e("div",{staticClass:"passive"},[e("Table",{attrs:{border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"setting",fn:function(a){var n=a.row;return[e("span",{staticClass:"text"},[t._v(t._s(n.setting))]),n.tooltips?e("Tooltip",{attrs:{placement:"top","max-width":"200",content:n.tooltips,theme:"light"}},[e("i",{staticClass:"iconfont icon-icon-test",staticStyle:{"margin-left":"5px"}})]):t._e()]}},{key:"high",fn:function(a){var n=a.row,i=a.index;return[e("Radio",{on:{"on-change":function(e){return t.highRadioChange(i)}},model:{value:t.data[i].highFlag,callback:function(e){t.$set(t.data[i],"highFlag",e)},expression:"data[index].highFlag"}},[t._v(" "+t._s(n.high)+" ")])]}},{key:"low",fn:function(a){var n=a.row,i=a.index;return[e("Radio",{on:{"on-change":function(e){return t.lowRadioChange(i)}},model:{value:t.data[i].lowFlag,callback:function(e){t.$set(t.data[i],"lowFlag",e)},expression:"data[index].lowFlag"}},[t._v(" "+t._s(n.low)+" ")])]}}],null,!1,1778440282)})],1):t._e()],1)],1)],1)])])};e.render=a;var n=[];e.staticRenderFns=n},c1f9:function(t,e,a){var n=a("23e7"),i=a("2266"),l=a("8418");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,a){l(e,t,a)}),{AS_ENTRIES:!0}),e}})},ddd3:function(t,e,a){var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),l=n(a("3835"));a("d3b7"),a("159b"),a("d81d"),a("4fadc"),a("c1f9");var o={data:function(){var t=this;return{formData:{execute_type:"0"},rules:{execute_type:[{required:!0,message:"请选择任务类型"}]},highSelectAllFlag:!1,lowSelectAllFlag:!1,columns:[{title:"统一设置",align:"right",slot:"setting"},{title:"高效能模式",align:"center",slot:"high",renderHeader:function(e,a){return e("div",[e("Checkbox",{props:{value:t.highSelectAllFlag},on:{"on-change":function(){var e=t.highSelectAllFlag;t.highSelectAllFlag=!e,t.lowSelectAllFlag=e,t.data.forEach((function(e){e.highFlag=t.highSelectAllFlag,e.lowFlag=!t.highSelectAllFlag}))}}},a.column.title)])}},{title:"低效能模式",align:"center",slot:"low",renderHeader:function(e,a){return e("div",[e("Checkbox",{props:{value:t.lowSelectAllFlag},on:{"on-change":function(){var e=t.lowSelectAllFlag;t.lowSelectAllFlag=!e,t.highSelectAllFlag=e,t.data.forEach((function(e){e.lowFlag=t.lowSelectAllFlag,e.highFlag=!t.lowSelectAllFlag}))}}},a.column.title)])}}],data:[{setting:"自动关闭未付款订单",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"关闭未付款订单通知",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"自动收货",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"优惠券自动返利",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"商品自动上下架",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""}],submitLoading:!1}},watch:{data:{handler:function(t){this.highSelectAllFlag=!t.some((function(t){return!1===t.highFlag})),this.lowSelectAllFlag=!t.some((function(t){return!1===t.lowFlag}))},deep:!0,immediate:!0}},created:function(){this.getCrontab()},methods:{getCrontab:function(){var t=this;this.$api.systemApi.getCrontab({}).then((function(e){0===e.error&&(t.formData.execute_type=e.execute_type+"",t.data=e.params.map((function(t){return{setting:t.title,high:"10分钟/次",low:"30分钟/次",highFlag:10===t.value,lowFlag:30===t.value,tooltips:t.tips,resKey:t.key}})))}))},handleSubmit:function(){var t=this.data.map((function(t){for(var e,a,n=0,i=Object.entries(t);n<i.length;n++){var o=(0,l.default)(i[n],2),r=o[0],s=o[1];"highFlag"===r&&(a=s),"resKey"===r&&(e=s)}return[e,a?10:30]}));t=Object.fromEntries(t),this.postCrontab(t)},postCrontab:function(t){var e=this;this.submitLoading=!0,this.$api.systemApi.postCrontab((0,i.default)({execute_type:this.formData.execute_type},t)).then((function(t){e.submitLoading=!1,0===t.error&&e.$Message.success("保存成功")}))},highRadioChange:function(t){this.data[t].lowFlag=!1},lowRadioChange:function(t){this.data[t].highFlag=!1}}};e.default=o},ed05:function(t,e,a){}}]);