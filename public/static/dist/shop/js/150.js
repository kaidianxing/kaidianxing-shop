(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[150],{"0a6b":function(e,t,a){"use strict";a.r(t);var n=a("f5c8"),o=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"1d59":function(e,t,a){"use strict";a("efee")},"46b7":function(e,t,a){e.exports=a.p+"static/dist/shop/img/goods_detail.png"},8539:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"content"},[t("kdx-form-title",[e._v("拼团设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":150}},[t("FormItem",{attrs:{label:"商品详情中团列表："}},[t("RadioGroup",{model:{value:e.model.team_list,callback:function(t){e.$set(e.model,"team_list",t)},expression:"model.team_list"}},[t("Radio",{attrs:{label:"1",disabled:e.noManagePerm}},[t("span",[e._v("开启")]),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("46b7")}})],1),t("Radio",{attrs:{label:"0",disabled:e.noManagePerm}},[t("span",[e._v("关闭")])])],1),t("kdx-hint-text",[e._v(" 开启后，用户可使用参团功能，选择已开团团长进行拼单。若关闭则只支持团长开团 ")])],1),t("FormItem",{attrs:{label:"未付款订单：",prop:"order_status"}},[t("RadioGroup",{model:{value:e.model.auto_close_open,callback:function(t){e.$set(e.model,"auto_close_open",t)},expression:"model.auto_close_open"}},[t("Radio",{attrs:{label:"0",disabled:e.noManagePerm}},[t("span",[e._v("永不关闭")])]),t("Radio",{attrs:{label:"1",disabled:e.noManagePerm}},[t("span",[e._v("自定义关闭时间")])])],1),t("kdx-hint-text",[e._v(" 拼团只读取本交易规则设置 ")]),"1"==e.model.auto_close_open?t("div",{staticClass:"main marginT-10"},[t("FormItem",{staticClass:"number-input label-width-100 refund-input",attrs:{label:"拍下来付款订单：",prop:"auto_close_time"}},[t("div",{staticClass:"flex width-340"},[t("kdx-rr-input",{attrs:{number:"",minValue:5,maxValue:60,fixed:0,disabled:e.noManagePerm},model:{value:e.model.auto_close_time,callback:function(t){e.$set(e.model,"auto_close_time",t)},expression:"model.auto_close_time"}}),t("span",{staticClass:"ivu-input-group-append item-append"},[e._v("分钟")]),t("span",{staticClass:"paddingL"},[e._v("內未付款，自动关闭订单")])],1)]),t("kdx-hint-text",{staticStyle:{"margin-left":"20px"}},[e._v("订单自动关闭时间必须在5-60分钟之间，订单关闭后自动退还库存。 ")])],1):e._e()],1)],1)],1)])};t.render=n;var o=[];t.staticRenderFns=o},d3ed:function(e,t,a){"use strict";var n=a("8539");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d4ea:function(e,t,a){"use strict";a.r(t);var n=a("d3ed"),o=a("0a6b");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("1d59");var s=a("2877"),r=Object(s["a"])(o["default"],n["render"],n["staticRenderFns"],!1,null,"373e7bd8",null);t["default"]=r.exports},efee:function(e,t,a){},f5c8:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("d3b7");var n={data:function(){return{model:{team_list:"0",auto_close_open:"1",auto_close_time:"5"},rules:{auto_close_time:[{required:!0,message:"请输入拍下来付款订单分钟"},{validator:function(e,t,a){t=parseInt(t),t<5?a(new Error("订单自动关闭时间要大于5")):t>60&&a(new Error("订单自动关闭时间要小于60")),a()}}]},loading:!1}},computed:{noManagePerm:function(){return!this.$getPermMap("groups_setting.manage")}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var e=this;this.$api.groupsApi.getGroupsSetting().then((function(t){var a,n;0===t.error&&(console.log("res",t),e.model.team_list=t.data.team_list||"0",e.model.auto_close_open=(null===(a=t.data.auto_close)||void 0===a?void 0:a.open)||"0",e.model.auto_close_time=(null===(n=t.data.auto_close)||void 0===n?void 0:n.close_time)||"0")}))},handleSave:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.loading=!0,e.$api.groupsApi.setGroupsSetting(e.model).then((function(t){0===t.error&&e.$Message.success("拼团设置成功")})).finally((function(){e.loading=!1})))}))}}};t.default=n}}]);