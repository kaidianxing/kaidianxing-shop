(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{"0071":function(e,t,a){},"012c":function(e,t,a){"use strict";var i=a("dbc6");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"037e":function(e,t,a){},"04c9":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("ade3")),s=i(a("2909")),o=i(a("5530"));a("a9e3"),a("99af"),a("d81d"),a("b0c0"),a("c7cd"),a("fb6a"),a("c740"),a("07ac"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("a15b"),a("a434"),a("14d9"),a("b64b"),a("b680");var r,l=a("2f62"),c=i(a("1e52")),d=i(a("7177")),u=a("6904"),p={name:"MultiOption",props:{model_type:{type:[String,Number]},actionType:{type:String}},components:{RInput:c.default,ImageSelector:d.default},data:function(){var e=this.$createElement;return{pageSizeOpts:[10,20,50],pageSize:10,pageNumber:1,cacheError:{},catchBatchData:Object.assign({},f),imageSelector:{index:-1,current:""},imgSelectCache:{index:-1,row:{optionImage:[]}},initColumns:[],initCustom:[{title:"售卖价(元)",key:"price",renderHeader:function(){return e("div",{class:"required-content"},["售卖价(元)"])}},{title:"划线价(元)",key:"original_price"},{title:"成本价",key:"cost_price"},{title:"库存",key:"stock",renderHeader:function(){return e("div",{class:"required-content"},["库存"])}},{title:"商品编码",key:"goods_sku"},{title:"商品条码",key:"bar_code"},{title:"重量(g)",key:"weight"}],local_columns:[],local_specs:[],secretColumn:[{title:"库存",key:"virtual_account_id",width:550,renderHeader:function(){return e("div",{class:"required-content"},["卡密库"])}},{title:"售卖价(元)",key:"price",renderHeader:function(){return e("div",{class:"required-content"},["售卖价(元)"])}},{title:"划线价(元)",key:"original_price"},{title:"成本价",key:"cost_price"}]}},computed:(0,o.default)((0,o.default)((0,o.default)({},(0,l.mapState)("goodAddEdit/multiOptions",{columns:function(e){return e.columns},specs:function(e){return e.specs},cacheRowSpan:function(e){return e.cacheRowSpan},cacheFormError:function(e){return e.cacheFormError},cacheSpecsError:function(e){return e.cacheSpecsError}})),(0,l.mapState)("goodAddEdit",{is_activity_goods:function(e){var t;return 1==(null===e||void 0===e||null===(t=e.model)||void 0===t?void 0:t.is_activity_goods)},virtualList:function(e){return(null===e||void 0===e?void 0:e.virtualData)||[]}})),{},{getColumns:function(){var e=this;this.$createElement;return[].concat((0,s.default)(this.local_columns),(0,s.default)(this.initColumns.map((function(t){return t.render=function(a,i){var n,s,o=e.pageSize*(e.pageNumber-1),r="".concat(i.index+o,"_").concat(i.column.key),l={},c=e.is_activity_goods&&("price"==t.key||"stock"==t.key);switch(i.column.key&&"2"!=e.model_type){case"price":case"original_price":case"cost_price":case"weight":l={maxValue:9999999.99,minValue:0,fixed:2,number:!0};break;case"stock":l={fixed:0,maxValue:999999999,number:!0};break;case"goods_sku":case"bar_code":l={fixed:0,number:!1};break}if("2"==e.model_type&&"virtual_account_id"==i.column.key){var d,u=function(a){i.row[t.key]=a,e.trackError(i.index+o,t.key,a),e.inputOptionVal(a,i,t.key)},p=e.virtualList.length>0?e.virtualList.map((function(e){return a("Option",{attrs:{value:e.id,label:e.name}},[a("span",[" ",e.name," "]),a("span",{style:"float:right;color: #ccc"},["库存：",e.total_count," "])])})):"";return a("div",[a("Select",{attrs:{value:i.row[t.key],disabled:c,fixed:l.fixed,filterable:!0,clearable:!0,"not-found-text":"暂无卡密库数据"},key:r,on:{"on-change":u}},[p]),a("p",{style:"color:red;font-size:12px;"},[(null===(d=e.cacheError[i.index+o])||void 0===d?void 0:d[t.key])||""])])}return a("div",[a("kdx-rr-input",{attrs:{className:"table-input "+(void 0!==(null===(n=e.cacheError[i.index+o])||void 0===n?void 0:n[t.key])?"error-input":""),disabled:c,value:i.row[t.key],number:l.number,maxValue:l.maxValue,minValue:l.minValue,fixed:l.fixed,maxlength:l.maxlength},key:r,on:{"on-blur":function(a){i.row[t.key]=a.target.value,e.trackError(i.index+o,t.key,a.target.value),e.inputOptionVal(a.target.value,i,t.key)}}}),a("p",{style:"color:red;font-size:12px;"},[(null===(s=e.cacheError[i.index+o])||void 0===s?void 0:s[t.key])||""])])},t}))))},total:function(){return this.$store.state.goodAddEdit.multiOptions.options.length},totalOptions:function(){return this.$store.state.goodAddEdit.multiOptions.options},tableData:{get:function(){var e=this.pageSize*(this.pageNumber-1),t=this.pageSize*this.pageNumber;return this.$store.state.goodAddEdit.multiOptions.options.slice(e,t)}}}),methods:(0,o.default)((0,o.default)((0,o.default)({},(0,l.mapMutations)("goodAddEdit/multiOptions",["addSpec","setBatch","delSpecs","addChildSpec","delChildSpec","editChildSpec","editSpec","cacheInput"])),(0,l.mapActions)("goodAddEdit/multiOptions",{checkSpecSettings:"checkSpecSettings",checkSpecs:"checkSpecs"})),{},{pageSizeChange:function(e){this.pageNumber=e.pageNumber,this.pageSize=e.pageSize},trackError:function(e,t,a){this.cacheError[e]?this.cacheError[e][t]=(0,u.trackError)(t,a):this.cacheError[e]=(0,n.default)({},t,(0,u.trackError)(t,a))},changePage:function(e){this.pageNumber=e.pageNumber,this.pageSize=e.pageSize},changeSpec:function(e,t){this.cacheSpecsError&&this.checkSpecs(),this.editSpec({row:e,val:{title:t.target.value}}),this.cacheSpecsError&&this.checkSpecs()},closeSpec:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确定删除该规格值？",onOk:function(){t.delSpecs(e)}})},batchData:function(e,t){this.catchBatchData[e]=h(t,e)},clickImgSelector:function(e){this.imageSelector=e,this.imageSelector.current=e.row.thumb,this.$refs["image_selector"].setValue(!0,this.imageSelector.current)},deleteImage:function(e){var t=this,a=this.local_specs.findIndex((function(e){return"1"===e.image_checked}));if(a+1!==this.local_specs.length){console.log(a);var i=Object.values(e.row._pos).slice(0,a+1);console.log(i),this.totalOptions.forEach((function(e){e._posArr=Object.values(e._pos),e._posArr.join("").includes(i.join(""))&&(e.thumb="",t.cacheInput({_pos:e._pos,key:"thumb",value:""}))}))}else this.totalOptions[e.index+(this.pageNumber-1)*this.pageSize][e.column.key]=""},thumbAllChange:function(e){this.inputOptionVal(e,this.imgSelectCache,"thumb")},fnImageCheckedChange:function(e,t){var a=this;r=0,this.resetOptionsThumb(),this.local_columns.forEach((function(e,t){"thumb"===e.key&&a.local_columns.splice(t,1)})),"1"===t&&(this.local_specs.forEach((function(e){e.image_checked="0"})),this.local_specs[e].image_checked="1",this.local_columns.splice(e+1,0,{title:"规格图片",key:"thumb",slot:"thumb"}))},setUsing:function(e){this.setBatch(e),this.catchBatchData=Object.assign({},f),this.checkSpecSettings(),this.cacheError=this.cacheFormError||{}},changeImageSelector:function(e){this.inputOptionVal(e,this.imageSelector,"thumb")},inputOptionVal:function(e,t,a){var i=h(e,a);"thumb"!==a?(this.tableData[t.index][a]=i,this.cacheInput({_pos:t.row._pos,key:a,value:i})):this.formatOptionsThumb(t,i)},formatOptionsThumb:function(e,t){var a=this;this.imageSelector.current=t;var i=e.row,n=e.index;this.totalOptions[n+(this.pageNumber-1)*this.pageSize]["thumb"]=t,this.cacheInput({_pos:i._pos,key:"thumb",value:t});var s=0,o=[];this.local_columns.forEach((function(e,t){"thumb"===e.key&&(s=t),0!==s&&t>s&&o.push(t-1)}));var r=0;o.length&&(r=1),o.forEach((function(e){r*=a.local_specs[e].items.length}));for(var l=1;l<r;l++)this.totalOptions[n+(this.pageNumber-1)*this.pageSize+l]["thumb"]=t,this.cacheInput({_pos:this.totalOptions[n+(this.pageNumber-1)*this.pageSize+l]._pos,key:"thumb",value:t})},resetOptionsThumb:function(){var e=this;this.totalOptions.forEach((function(t){t["thumb"]="",e.cacheInput({_pos:t._pos,key:"thumb",value:""})})),this.imgSelectCache={index:-1,current:"",row:{}}},handleSpan:function(e){var t=e.column,a=e.rowIndex,i=e.columnIndex,n=this.pageSize*(this.pageNumber-1),s=n+this.pageSize,o=n+a;if(i<this.local_columns.length){"thumb"===t.key&&(r=i,i-=1),r&&i>r&&(i-=1);for(var l=0,c=0,d=0;;d+=this.cacheRowSpan[i]){if(!(d<=o)){c=d;break}l=d}c=Math.min(c,s),l=Math.max(l,n);var u={rowspan:0,colspan:1};return o==l&&(u={rowspan:c-o,colspan:1}),u}return{rowspan:1,colspan:1}},getFixed:function(e){switch(e.key){case"price":case"original_price":case"cost_price":case"weight":return 2;case"stock":return 0;default:return}},getMaxValue:function(e){switch(e.key){case"price":case"original_price":case"cost_price":case"weight":return 9999999.99;case"stock":return 999999999;default:return}},getMinValue:function(e){switch(e.key){case"price":case"original_price":case"cost_price":case"weight":return 0;case"stock":return 0;default:return}},isNumberType:function(e){return["price","original_price","cost_price","stock","weight"].indexOf(e.key)>-1}}),watch:{cacheSpecsError:function(){for(var e in this.cacheSpecsError){this.$focusError(e);break}},cacheFormError:function(){var e=this;if(this.cacheError=this.cacheFormError||{},this.cacheFormError){this.$nextTick((function(){e.$focusError(document.querySelectorAll("#childSpec .error-input")[0])})),this.$Message.error("请完善规格设置"),this.$emit("form-error",this.cacheFormError);var t=Object.keys(this.cacheFormError)[0];this.pageNumber=Math.floor(t/this.pageSize)+1}},columns:{handler:function(e){this.local_columns=(0,s.default)(e)},immediate:!0,deep:!0},specs:{handler:function(e){this.local_specs=(0,s.default)(e)},immediate:!0,deep:!0},model_type:{handler:function(e){this.initColumns="2"==e?this.secretColumn:this.initCustom},immediate:!0,deep:!0}}};t.default=p;var f={price:"",original_price:"",cost_price:"",stock:"",goods_sku:"",bar_code:"",weight:"",virtual_account_id:""};function h(e,t){var a,i=["price","original_price","cost_price","weight"];return a=i.indexOf(t)>-1?parseFloat(e)?parseFloat(e).toFixed(2):0:"stock"===t?parseInt(e)?parseInt(e):0:e,a}},"07ac":function(e,t,a){var i=a("23e7"),n=a("6f53").values;i({target:"Object",stat:!0},{values:function(e){return n(e)}})},"07af":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-option"},[t("div",{staticClass:"single"},[e._l(e.local_specs,(function(a,i){return t("div",{key:i,staticClass:"spec"},[t("div",{staticClass:"column"},[t("Input",{directives:[{name:"error-item",rawName:"v-error-item",value:a.id,expression:"item.id"}],staticClass:"width-160 input",class:{errorInput:e.cacheSpecsError&&e.cacheSpecsError[a.id]},attrs:{placeholder:"如颜色、尺码、大小",disabled:e.is_activity_goods,maxlength:30},on:{"on-blur":function(t){return e.changeSpec(i,t)}},model:{value:a.title,callback:function(t){e.$set(a,"title",t)},expression:"item.title"}}),t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},on:{"on-change":function(t){return e.fnImageCheckedChange(i,t)}},model:{value:a.image_checked,callback:function(t){e.$set(a,"image_checked",t)},expression:"item.image_checked"}},[e._v(" 添加图片 ")]),e.cacheSpecsError?t("span",{staticClass:"error-span"},[e._v(" "+e._s(e.cacheSpecsError[a.id])+" ")]):e._e()],1),t("div",{staticClass:"data"},[e._l(a.items,(function(n,s){return t("r-input",{directives:[{name:"error-item",rawName:"v-error-item",value:n.id,expression:"val.id"}],key:s,staticClass:"width-160 input",class:{errorInput:e.cacheSpecsError&&e.cacheSpecsError[n.id]},attrs:{type:"close",closable:a.items.length>1,disabled:e.is_activity_goods,maxlength:30,placeholder:"请填写子规格，如L、M"},on:{blur:function(t){return e.editChildSpec({row:i,col:s,val:{title:t}})},close:function(t){return e.delChildSpec({row:i,col:s})}},model:{value:n.title,callback:function(t){e.$set(n,"title",t)},expression:"val.title"}},[e.cacheSpecsError?t("span",{staticClass:"error-span",attrs:{slot:"error"},slot:"error"},[e._v(" "+e._s(e.cacheSpecsError[n.id])+" ")]):e._e()])})),e.specs[i].items.length<50?t("Button",{attrs:{type:"text",disabled:e.is_activity_goods},on:{click:function(t){return e.addChildSpec(i)}}},[e._v(" +添加规格值 ")]):e._e()],2),t("div",{staticClass:"box"}),e.specs.length>1?t("Icon",{staticClass:"icon",attrs:{type:"ios-close-circle"},on:{click:function(t){return e.closeSpec(i)}}}):e._e()],1)})),e.specs.length<3?t("div",{staticClass:"addSpecItemBtn"},[t("Button",{staticClass:"add-item",attrs:{type:"text",disabled:e.is_activity_goods},on:{click:e.addSpec}},[e._v(" +添加规格项 ")])],1):e._e()],2),t("div",{staticClass:"setting"},[t("span",[e._v("批量设置:")]),e._l(e.initColumns,(function(a,i){return t("div",{directives:[{name:"show",rawName:"v-show",value:"thumb"!==a.key,expression:"item.key !== 'thumb'"}],key:i,staticClass:"setting-input"},[t("kdx-rr-input",{staticClass:"setting-input-wrapper",style:{background:"2"==e.model_type&&"库存"==a.title?"#f3f3f3":"transparent"},attrs:{disabled:e.is_activity_goods&&("price"==a.key||"stock"==a.key)||"2"==e.model_type&&"库存"==a.title,fixed:e.getFixed(a),maxValue:e.getMaxValue(a),minValue:e.getMinValue(a),number:e.isNumberType(a),type:"text"},on:{blur:function(t){return e.batchData(a.key,t.target.value)}},model:{value:e.catchBatchData[a.key],callback:function(t){e.$set(e.catchBatchData,a.key,t)},expression:"catchBatchData[item.key]"}}),t("span",{class:{"span-active":e.catchBatchData[a.key]||"0"==e.catchBatchData[a.key]}},[e._v(e._s(a.title))])],1)})),t("Button",{on:{click:function(t){return e.setUsing(e.catchBatchData)}}},[e._v("应用")])],2),t("div",{staticClass:"table",staticStyle:{padding:"0"}},[t("Table",{attrs:{id:"childSpec",columns:e.getColumns,data:e.tableData,"span-method":e.handleSpan},scopedSlots:e._u([{key:"thumb",fn:function(a){var i=a.row,n=a.column,s=a.index;return[t("div",{staticClass:"add-image",on:{click:function(t){return e.clickImgSelector({row:i,index:s})}}},[i.thumb?t("div",{staticClass:"image"},[t("img",{attrs:{src:e.$media(i.thumb),alt:""},on:{error:e.replaceImage}}),t("Icon",{staticClass:"close-icon",attrs:{type:"ios-close-circle"},on:{click:function(t){return t.stopPropagation(),e.deleteImage({row:i,column:n,index:s})}}}),t("div",{staticClass:"replace"},[e._v("替换")])],1):t("i",{staticClass:"icon ivu-icon ivu-icon-ios-add"})])]}}])}),e.total>10?t("div",{staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total,current:e.pageNumber,pageSize:e.pageSize,pageSizeOption:e.pageSizeOpts},on:{"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1):e._e()],1),t("image-selector",{ref:"image_selector",attrs:{current:e.imageSelector.current},on:{"on-change":e.changeImageSelector}})],1)};t.render=a;var i=[];t.staticRenderFns=i},"086b":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var n=i(a("5530")),s=a("d51a"),o={data:function(){return{}},computed:(0,n.default)((0,n.default)((0,n.default)({},(0,s.modelMap)()),(0,s.stateMap)(["dispatchList"])),{},{dispatchEnable:function(){return this.$store.getters["goodAddEdit/dispatchEnable"]},isAddOperate:function(){return"undefined"==typeof this.$route.query.operate}}),watch:{},methods:{expressSelected:function(e){return new Set(this.$store.state.goodAddEdit.model.logistics_support).has(e)},refreshDispatchTemplate:function(){this.$store.dispatch("goodAddEdit/getDispatchTemplateList")},addDispatchTemplate:function(){this.$utils.openNewWindowPage("/order/ordinary-express/add")},fnJumpOrdinaryExpress:function(){this.$utils.openNewWindowPage("/order/ordinary-express")},fnJumpSamecityDelivery:function(){this.$ismultiMerchant?this.$utils.openNewWindowPage("/order/delivery-setting"):this.$utils.openNewWindowPage("/order/same-city-delivery")},choosePlace:function(){this.$refs.selector.setValue()},changeDispatchCount:function(e){this.model_dispatch_id="1"==e?"":"0"}}};t.default=o},"0a6e":function(e,t,a){"use strict";a.r(t);var i=a("2d9d"),n=a("5673");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("e01c");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"42e2186a",null);t["default"]=r.exports},"0aaf":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_video.png"},"0b72":function(e,t,a){"use strict";a.r(t);var i=a("2a6e"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"0bec":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-select"},[t("RadioGroup",{attrs:{disabled:e.isDisabled("0")},on:{input:e.handleInput},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[t("Radio",{attrs:{label:"0",border:""}},[t("div",{staticClass:"tit"},[e._v("实体商品")]),t("div",{staticClass:"desc"},[e._v("物流发货")]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1),t("Radio",{attrs:{label:"1",border:"",disabled:e.isDisabled("1")}},[t("div",{staticClass:"tit"},[e._v("虚拟商品")]),t("div",{staticClass:"desc"},[e._v("无需物流")]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1),t("Radio",{attrs:{label:"2",border:"",disabled:e.isDisabled("2")}},[t("div",{staticClass:"tit"},[e._v("虚拟卡密")]),t("div",{staticClass:"desc"},[e._v("自动发卡 无需物流")]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1)],1),e.$route.query.id?e._e():t("kdx-hint-text",[e._v("商品类型在商品保存后无法修改，请谨慎选择。")])],1)};t.render=a;var i=[];t.staticRenderFns=i},"0c63":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("14d9");var i={name:"MultiSelect",props:{value:{type:[Number,String],required:!0}},data:function(){return{type:""}},computed:{},watch:{value:{handler:function(e){this.type=e},immediate:!0,virtualAccount_flag:"0"}},mounted:function(){},methods:{isDisabled:function(e){switch(e){case"0":case"1":return!!this.$route.query.id;case"2":return!!this.$route.query.id||"2"===this.virtualAccount_flag||"3"===this.virtualAccount_flag}},handleInput:function(e){this.$emit("input",e)},goMoney:function(){this.$router.push({path:"/plugins/center/index"})}}};t.default=i},"0d87":function(e,t,a){"use strict";a.r(t);var i=a("a24f"),n=a("0f2a");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("325a");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"44d73282",null);t["default"]=r.exports},"0f2a":function(e,t,a){"use strict";a.r(t);var i=a("d476"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"10ed":function(e,t,a){},1127:function(e,t,a){"use strict";a.r(t);var i=a("860c"),n=a("5ee8");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("b21a");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"25b073f2",null);t["default"]=r.exports},"12a9":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_market.png"},1468:function(e,t,a){},1874:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"level"},[t("kdx-form-title",{attrs:{content:"基本信息"}}),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.title",modifiers:{title:!0}}],attrs:{label:"商品标题：",prop:"title"}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",rows:1,autosize:"",maxlength:"70","show-word-limit":"",placeholder:"请输入商品标题"},model:{value:e.model_title,callback:function(t){e.model_title=t},expression:"model_title"}})],1),t("FormItem",{attrs:{label:"商品副标题：",prop:"sub_name"}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",rows:1,autosize:"",maxlength:"80","show-word-limit":"",placeholder:"请输入商品副标题"},model:{value:e.model_sub_name,callback:function(t){e.model_sub_name=t},expression:"model_sub_name"}})],1),t("FormItem",{attrs:{label:"商品简称："}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"text",maxlength:"16","show-word-limit":"",placeholder:"请输入商品简称"},model:{value:e.model_short_name,callback:function(t){e.model_short_name=t},expression:"model_short_name"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.thumb",modifiers:{thumb:!0}}],attrs:{label:"商品主图：",prop:"thumb"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model_thumb},on:{"on-change":e.changeThumb}}),t("div",[t("kdx-hint-text",[t("span",[e._v("用于商城列表、双列三列商品组、分享头图。建议尺寸：800*800像素。")]),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("f28e")}})],1),t("kdx-hint-text",{staticStyle:{"padding-top":"6px"}},[t("span",[e._v("单列商品组建议尺寸：800*367像素，如选择此尺寸建议取消勾选显示为商品轮播图。")]),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("2d8f")}})],1)],1),t("Checkbox",{staticStyle:{"margin-top":"10px"},on:{"on-change":e.thumbAddSlideChange},model:{value:e.isThumbAddSlide,callback:function(t){e.isThumbAddSlide=t},expression:"isThumbAddSlide"}},[e._v("显示为商品轮播图")]),e.isShowVideo?e._e():t("Button",{staticStyle:{display:"block"},attrs:{type:"text"},on:{click:e.addVideo}},[e._v("+添加视频")])],1),e.isShowVideo?t("FormItem",{attrs:{label:"主图视频：",prop:"video"}},[t("kdx-image-video",{staticStyle:{"padding-bottom":"10px"},attrs:{type:"video",video:e.model_video,current:e.model_video_thumb},on:{"on-video-change":e.changeVideo,"on-change":e.changeVideoImage}}),t("kdx-hint-text",{staticClass:"marginT-10"},[e._v("添加主图视频可提升成交转化，有利于获取更多新流量；建议视频突出商品核心卖点，时长 9-30 秒，宽高比 16:9 "),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("0aaf")}})],1)],1):e._e(),t("FormItem",{attrs:{label:"商品轮播图：",prop:"thumb_all"}},[t("kdx-image-video",{staticClass:"swiper-img",attrs:{type:"image",limit:10,multiple:!0,"current-list":e.model_thumb_all,"is-drag":""},on:{"on-change":e.thumbAllChange}}),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"建议尺寸: 800*800像素, 轮播图可以拖拽图片调整顺序,最多上传10张"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("baa5")}})],1)],1),t("FormItem",{attrs:{label:"商品分类：",prop:"category_id"}},[t("tree-select",{staticClass:"width-430",attrs:{transfer:!0,"show-checkbox":!0,data:e.shopLevel,multiple:!0,isHandlePath:!0},on:{"on-change":e.handleShopLevelChange,"change-data":e.changeData},model:{value:e.model_category_id,callback:function(t){e.model_category_id=t},expression:"model_category_id"}}),e.showErrContent?t("kdx-hint-text",{attrs:{errContent:e.emsg}}):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"营销标签："}},[t("div",[t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_is_recommand,callback:function(t){e.model_is_recommand=t},expression:"model_is_recommand"}},[e._v("推荐")]),t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_is_new,callback:function(t){e.model_is_new=t},expression:"model_is_new"}},[e._v("新品")]),t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_is_hot,callback:function(t){e.model_is_hot=t},expression:"model_is_hot"}},[e._v("热卖")])],1),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"给商品添加专属营销标签"}},[t("kdx-hint-tooltip",{attrs:{type:"image",image:a("12a9")}})],1)],1)]),t("FormItem",{attrs:{label:"商品标签：",prop:"label_id"}},[t("Button",{staticClass:"default-primary",on:{click:e.editShopLabel}},[e._v("编辑")]),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("19b1")}}),e.shopLabel.data.length>0?t("div",{staticClass:"label-list",staticStyle:{"margin-top":"10px","line-height":"0","margin-bottom":"-10px"}},e._l(e.shopLabel.data,(function(a,i){return t("kdx-tag-label",{key:i,staticStyle:{margin:"0 10px 10px 0"},attrs:{type:"warning",closable:!0,border:""},on:{"on-close":function(t){return e.closeShopLabel(i)}}},[e._v(e._s(a.name||""))])})),1):e._e()],1),t("collapse-panel",{staticStyle:{"padding-top":"0"},attrs:{name:"展开更多基本信息设置","expand-name":"收起更多基本信息设置"}},[[t("FormItem",{attrs:{label:"商品排序：",prop:"sort_by"}},[t("Input",{staticClass:"width-160",attrs:{maxlength:"4",placeholder:"请输入"},model:{value:e.model_sort_by,callback:function(t){e.model_sort_by=e._n(t)},expression:"model_sort_by"}}),t("kdx-hint-text",{attrs:{content:"最多4位数字, 数字越大, 排名越靠前, 默认排序为创建时间"}})],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{prop:"ext_field.show_sales",label:"显示销量："}},[t("RadioGroup",{model:{value:e.model_ext_field.show_sales,callback:function(t){e.$set(e.model_ext_field,"show_sales",t)},expression:"model_ext_field.show_sales"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("是")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("否")])])],1),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"显示销量=实际销量+虚拟销量"}},[t("kdx-hint-tooltip",{attrs:{type:"image",image:a("9cb6")}})],1)],1)],1),t("FormItem",{attrs:{label:"虚拟销量：",prop:"sales"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{number:"",fixed:0,"max-value":999999999,placeholder:"请输入"},model:{value:e.model_sales,callback:function(t){e.model_sales=t},expression:"model_sales"}})],1),t("FormItem",{attrs:{label:"商品备注："}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.model_ext_field.note,callback:function(t){e.$set(e.model_ext_field,"note",t)},expression:"model_ext_field.note"}}),t("kdx-hint-text",{attrs:{content:"超链接需要以http/https开头，多个需要换行。"}})],1)]],2)],1)};t.render=i;var n=[];t.staticRenderFns=n},"19b1":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_tag.png"},"1ac4":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("5530")),s=i(a("ef19")),o=i(a("2917")),r=a("8812"),l=i(a("c6072")),c=a("2f62"),d={components:{MultiOption:s.default,CollapsePanel:o.default,RemindLabel:l.default},data:function(){return{}},computed:(0,n.default)((0,n.default)((0,n.default)((0,n.default)({},(0,r.modelMap)()),(0,r.stateMap)(["rules","isThumbAddSlide","isShowVideo","shopLabel","isMoreInventorySetting","actionType"])),(0,c.mapState)("goodAddEdit",{is_activity_goods:function(e){var t;return 1==(null===e||void 0===e||null===(t=e.model)||void 0===t?void 0:t.is_activity_goods)},virtualList:function(e){return null===e||void 0===e?void 0:e.virtualData}})),{},{isSeckill:function(){var e;return 1==(null===(e=this.$store.state.goodAddEdit.model)||void 0===e?void 0:e.is_seckill)}}),methods:{formError:function(e){this.$emit("form-error",e)},getMoreInventorySetting:function(){this.isMoreInventorySetting=!0},invoiceChange:function(e){var t=this;"0"==this.$store.state.config.business.invoice&&"1"===e&&this.$Modal.confirm({title:"您还未开启支持发票类型",content:"购买商品支持开发票时，需要在设置 [交易设置-发票设置] 中选择支持发票类型",okText:"去设置",onOk:function(){var e=t.$router.resolve({path:"/setting/business/index"});window.open(e.href,"_blank")},onCancel:function(){t.model_ext_field.invoice="0"}})}}};t.default=d},"1e52":function(e,t,a){"use strict";a.r(t);var i=a("a3ea"),n=a("81c2");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("e7b3");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=r.exports},"204d":function(e,t,a){},2315:function(e,t,a){"use strict";a.r(t);var i=a("770e"),n=a("61c0");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("23a2");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"08e0f100",null);t["default"]=r.exports},"23a2":function(e,t,a){"use strict";a("f36d")},"280f":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"remind-label"},[t("span",{staticClass:"box"},[e._v(" "+e._s(e.title)+" "),t("span")])])};t.render=a;var i=[];t.staticRenderFns=i},2917:function(e,t,a){"use strict";a.r(t);var i=a("fc45"),n=a("f3be0");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("c62b4");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"1fe6b168",null);t["default"]=r.exports},"2a6e":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("5530"));a("a9e3");var s=a("8812"),o={props:{form_status:{type:[String,Number],default:-1}},data:function(){return{dateOptions:{disabledDate:function(e){return e.valueOf()<Date.now()}}}},computed:(0,n.default)({},(0,s.modelMap)()),methods:{changeAutoStatus:function(e){e&&(this.model_status="")},changeStatus:function(e){e&&(this.model_ext_field.auto_putaway="0")}}};t.default=o},"2bc1":function(e,t,a){"use strict";a.r(t);var i=a("7084"),n=a("5dd6");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("4f8f");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"3b943bca",null);t["default"]=r.exports},"2d8f":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_main_single.png"},"2d9d":function(e,t,a){"use strict";var i=a("0bec");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"309b":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{ref:"content_bar",attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{directives:[{name:"show",rawName:"v-show",value:"distribution"!==e.value,expression:"value !== 'distribution'"}],staticClass:"primary-long",on:{click:e.handleNextStep}},[e._v("下一步")]),t("Button",{staticClass:"default-long",on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("Tabs",{staticStyle:{background:"#fff","margin-top":"20px","min-height":"100%"},attrs:{animated:!1,name:"floor1"},on:{"on-click":e.tabClick},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("TabPane",{attrs:{label:e.tab.base,name:"base"}},[t("keep-alive",[t("base-add",{ref:"base",attrs:{curTab:e.value,form_status:e.form_status}})],1)],1),t("TabPane",{attrs:{label:e.tab.detail,name:"detail"}},[t("base-detail")],1),t("TabPane",{attrs:{label:e.tab.param,name:"param"}},[t("keep-alive",["param"===e.value?t("base-param",{ref:"param"}):e._e()],1)],1),t("TabPane",{attrs:{label:e.tab.limit,name:"limit"}},[t("keep-alive",["limit"===e.value?t("base-limit",{ref:"limit"}):e._e()],1)],1),t("TabPane",{attrs:{label:e.tab.market,name:"market"}},[t("keep-alive",[t("base-market",{ref:"market"})],1)],1),t("TabPane",{attrs:{label:e.tab.distribution,name:"distribution"}},[t("keep-alive",["distribution"===e.value?t("base-distribution",{ref:"distribution"}):e._e()],1)],1)],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},3101:function(e,t,a){function i(e,t){var a=[];function i(t){t.forEach((function(t){if(new Set(e).has(t.value))if(t.children&&t.children.length){var n=t.children.map((function(e){return e.value})),s=n.some((function(t){return e.indexOf(t)>=0}));s||a.push(t.value),i(t.children)}else a.push(t.value);else t.children&&t.children.length&&i(t.children)}))}return i(t),a}Object.defineProperty(t,"__esModule",{value:!0}),t.formatData=i,a("d3b7"),a("159b"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),a("14d9")},"325a":function(e,t,a){"use strict";a("5522a")},3527:function(e,t,a){},"35c7":function(e,t,a){"use strict";a.r(t);var i=a("012c"),n=a("8fff");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("8340");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"449bd1b3",null);t["default"]=r.exports},"3a73":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i={name:"RInput",props:{value:{type:String,required:!0},type:{type:String,default:"text"},closable:{type:Boolean,default:!1},placeholder:{type:String},width:{type:Number,default:120},maxlength:{type:Number},showWordLimit:{type:Boolean,default:!1},prefix:{type:String},suffix:{type:String},disabled:{type:Boolean,default:!1}},computed:{cacheValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{onBlur:function(){this.$emit("blur",this.cacheValue)},close:function(){this.$emit("close")}}};t.default=i},"43be":function(e,t,a){"use strict";var i=a("280f");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"468f5":function(e,t,a){"use strict";var i=a("634c");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"48af":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_stock.png"},49965:function(e,t,a){"use strict";a.r(t);var i=a("468f5"),n=a("b2de5");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("4deb");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"30a0beee",null);t["default"]=r.exports},"4aae":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("i-select",e._b({ref:"select",staticClass:"ivu-tree-select",class:e.classes,attrs:{placeholder:e.placeholder,multiple:e.multiple,"transfer-class-name":e.transferClassName,transfer:e.transfer},on:{"on-change":e.handleChange,"on-open-change":e.handleOpenChange}},"i-select",e.$attrs,!1),[t("Tree",{ref:"tree",attrs:{data:e.tmpData,multiple:e.multiple,"check-strictly":e.checkStrictly,"show-checkbox":e.multiple&&e.showCheckbox,"check-directly":e.checkDirectly,"load-data":e.loadData},on:{"on-select-change":e.handleSelectNode,"on-check-change":e.handleSelectNode}})],1)};t.render=a;var i=[];t.staticRenderFns=i},"4deb":function(e,t,a){"use strict";a("3527")},"4f7f":function(e,t,a){},"4f8f":function(e,t,a){"use strict";a("204d")},"52a5":function(e,t,a){"use strict";a.r(t);var i=a("be78"),n=a("0b72");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("bb7c");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"85e27f76",null);t["default"]=r.exports},5324:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"r-input",style:{width:e.width}},[t("div",{staticClass:"close"},[t("Input",{class:[e.type],attrs:{disabled:e.disabled,placeholder:e.placeholder,maxlength:e.maxlength,"show-word-limit":e.showWordLimit,prefix:e.prefix,suffix:e.suffix},on:{"on-blur":e.onBlur},model:{value:e.cacheValue,callback:function(t){e.cacheValue=t},expression:"cacheValue"}}),e._t("error")],2),t("Icon",{directives:[{name:"show",rawName:"v-show",value:e.closable,expression:"closable"}],staticClass:"close-icon",attrs:{type:"ios-close-circle"},on:{click:e.close}})],1)};t.render=a;var i=[];t.staticRenderFns=i},5381:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("c7eb")),s=i(a("1da1")),o=i(a("5530"));a("d3b7"),a("3ca3"),a("ddb0"),a("6062"),a("e9c4"),a("14d9"),a("d81d"),a("498a"),a("159b"),a("b64b"),a("a15b");var r=i(a("7666")),l=a("3fdc"),c=i(a("7ac9")),d=a("2f62"),u={name:"add",components:{BaseAdd:r.default,BaseDetail:function(){return Promise.all([a.e(0),a.e(144)]).then(a.bind(null,"cc4d"))},BaseLimit:function(){return a.e(83).then(a.bind(null,"9b6f"))},BaseMarket:function(){return a.e(161).then(a.bind(null,"c3b6"))},BaseParam:function(){return a.e(145).then(a.bind(null,"3696"))},BaseDistribution:function(){return a.e(160).then(a.bind(null,"d94c"))}},data:function(){return{value:"base",id:0,subShopId:"",operate:"",type:"update",loading:!1,lastValue:"base",form_status:-1}},watch:{"$route.path":{handler:function(){this.id=this.$route.query.id,this.subShopId=this.$route.query.sb,this.operate=this.$route.query.operate,this.form_status=this.$route.query.status,this.$store.state.goodAddEdit.actionType=this.id?"update":"create"},immediate:!0}},computed:(0,o.default)((0,o.default)((0,o.default)({},(0,d.mapState)("goodAddEdit",{validateType:function(e){return e.validateType},virtualList:function(e){return null===e||void 0===e?void 0:e.virtualData}})),(0,d.mapState)("goodAddEdit/multiOptions",{cacheSpecsError:function(e){return e.cacheSpecsError},cacheFormError:function(e){return e.cacheFormError}})),{},{tab:function(){var e=this,t=this.$createElement;return{base:function(){var a;return e.validateType.indexOf("base")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["基本"]),a])},detail:function(){var a;return e.validateType.indexOf("detail")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["详情"]),a])},param:function(){var a;return e.validateType.indexOf("param")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["参数"]),a])},limit:function(){var a;return e.validateType.indexOf("limit")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["权限"]),a])},market:function(){var a;return e.validateType.indexOf("market")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["营销"]),a])},distribution:function(){var a;return e.validateType.indexOf("distribution")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["分销"]),a])}}},dispatchEnable:function(){return this.$store.getters["goodAddEdit/dispatchEnable"]}}),methods:(0,o.default)((0,o.default)((0,o.default)((0,o.default)({},(0,d.mapActions)("goodAddEdit/vipDiscount",["getVipGroup","getVipLevelList","getVipLevels"])),(0,d.mapActions)("goodAddEdit",["getShopClassify","getGoodData","getDispatchTemplateList","getDispatchEnable","getMShopClassify","getVirtualData"])),(0,d.mapActions)("goodAddEdit/multiOptions",{checkSpecSettings:"checkSpecSettings",checkSpecs:"checkSpecs"})),{},{tabClick:function(e){this.validate(),this.lastValue=e},handleSave:function(){var e=this;this.validate(!0).then((function(t){if(t){var a=e.formatParams();a&&(e.id&&"edit"===e.operate?e.editGood(a):e.addGood(a))}}))},handleNextStep:function(){var e;switch(null===(e=this.$refs["content_bar"])||void 0===e||e.returnToTop(),this.validate(),this.value){case"base":this.value="detail";break;case"detail":this.value="param";break;case"param":this.value="limit";break;case"limit":this.value="market";break;case"market":this.value="distribution";break}},formatParams:function(){var e=this.getGoods();"copy"===this.operate&&delete e.id;var t=this.$store.state.goodAddEdit.videoParams;"network"===t.type?(e.video=t.video_url,e.video_type="2"):"local"===t.type?e.video_type="1":(e.video_type="0",e.video=t.video_url);var a=this.$store.state.goodAddEdit.multiOptions.specs,i={};if(e.content&&(e.content=this.$utils.delmedia(e.content),e.content=this.$utils.alterVideo(e.content)),"2"===e.type&&"0"===e.has_option&&this.virtualList.some((function(t){t.id==e.virtual_account_id&&(e.stock=t.total_count)})),i="1"===e.has_option?Object.assign({goods:e,spec:a,options:this.getMultiOption(e)}):{goods:e},"0"===i.goods.type){if(i.goods.auto_deliver="0",i.goods.auto_deliver_content="",new Set(i.goods.logistics_support).has("1")?i.goods.dispatch_express="1":(i.goods.dispatch_express="0",i.goods.dispatch_type="0",i.goods.dispatch_id="0",i.goods.dispatch_price="0"),new Set(i.goods.logistics_support).has("2")?i.goods.dispatch_intracity="1":i.goods.dispatch_intracity="0",0===this.dispatchEnable.express&&"0"===i.goods.dispatch_intracity&&"0"==i.goods.dispatch_verify)return this.$Message.error("请选择配送方式"),!1;if(0===this.dispatchEnable.intracity&&"0"===i.goods.dispatch_express&&"0"==i.goods.dispatch_verify)return this.$Message.error("请选择配送方式"),!1}else"1"===i.goods.type?(i.goods.weight="0",i.goods.dispatch_type="2",i.goods.dispatch_id="0",i.goods.dispatch_price="0",i.goods.ext_field.return="0",i.goods.ext_field.exchange="0",i.goods.ext_field.is_delivery_pay="0",i.goods.dispatch_express="0",i.goods.dispatch_intracity="0"):"2"===i.goods.type&&(i.goods.ext_field.is_delivery_pay="0",delete i.goods.weight,delete i.goods.dispatch_type,delete i.goods.dispatch_id,delete i.goods.dispatch_price,delete i.goods.ext_field.return,delete i.goods.ext_field.refund,delete i.goods.ext_field.exchange,delete i.goods.dispatch_express,delete i.goods.dispatch_intracity,delete i.goods.reduction_type,delete i.goods.single_full_unit_switch,delete i.goods.single_full_unit,delete i.goods.single_full_quota_switch,delete i.goods.single_full_quota);delete i.goods.logistics_support;var n={};for(var s in i)n[s]=JSON.stringify(i[s]);return n},addGood:function(e){var t=this;this.loading=!0,this.$api.goodsApi.addGood(e).then((function(e){if(t.loading=!1,0===e.error){var a;if(t.$Message.success("商品添加成功"),"plugin"===(null===(a=t.$route.query)||void 0===a?void 0:a.from))return void t.$router.push({path:"/goods/list/inSale"});t.$router.go(-1)}}))},editGood:function(e){var t=this;this.loading=!0,this.$api.goodsApi.editGood(e).then((function(e){t.loading=!1,0===e.error&&(t.$Message.success("商品修改成功"),t.$router.go(-1))}))},getGoods:function(){return(0,l.exchangeArrayToString)(this.$store.state.goodAddEdit.model)},getMultiOption:function(e){var t=this,a=this.$store.state.goodAddEdit.multiOptions.options.map((function(e){var t=Object.assign({},e);for(var a in t)"goods_sku"===a||"thumb"==a||(""+t[a]).trim()||(t[a]="0");return t}));return a.forEach((function(a){var i=[];"2"===e.type&&"1"===e.has_option&&t.virtualList.some((function(e){e.id==a.virtual_account_id&&(a.stock=e.total_count)})),Object.keys(a._pos).forEach((function(e){i.push(a._pos[e])})),a.title=a.childSpecVal.join("+"),a.specs=i,delete a._pos,delete a.childSpecVal,delete a.discount})),a},validate:function(e){var t=this;return new Promise((function(a){var i=t.getGoods(),n=[],s=[],o=["base","detail","param","limit","market"],r=["base","base","detail","param","limit","market"];t.$nextTick((function(){1==i.has_option&&(t.checkSpecs(),s.push(t.checkSpecSettings())),s.push(t.$refs["base"].validate()),s.push(t.validateDetail(i)),s.push(t.validateParams(i)),t.$refs["limit"]?s.push(t.$refs["limit"].validate()):s.push(t.validateLimit(i)),s.push(t.$refs["market"].validate()),Promise.all(s).then((function(s){s.forEach((function(e,t){e||(1==i.has_option?n.push(r[t]):n.push(o[t]))})),t.$store.commit("goodAddEdit/setValidateType",n),null!==n&&void 0!==n&&n.length?(e&&(t.value=n[0]),e&&(t.value=n[0],"detail"===t.value&&t.$Message.error("商品详情超过最大限制")),a(!1)):a(!0)})).catch((function(e){console.log("err",e)}))}))}))},validateDetail:function(e){function t(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=0;for(e=0;e<a.length;e++)t=a.charCodeAt(e),t<127?i+=1:128<=t&&t<=2047?i+=2:2048<=t&&t<=65535&&(i+=3);return i}var a=t(e.content);return!(a>1e7)||("detail"===this.value&&this.$Message.error("商品详情超过最大限制"),!1)},validateParams:function(e){return 0==e.params_switch||!!(e.params&&e.params.length>0)},validateLimit:function(e){for(var t=["browse_level_perm","browse_tag_perm","buy_level_perm","buy_tag_perm"],a=!0,i=0,n=t;i<n.length;i++){var s,o=n[i];if("1"==e[o]&&(!e["".concat(o,"_ids")]||null===(s=e["".concat(o,"_ids")])||void 0===s||!s.length)){a=!1;break}}return a}}),beforeDestroy:function(){c.default.clear(),this.$store.commit("goodAddEdit/resetModel")},created:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.$route.query.type&&e.$nextTick((function(){e.$store.commit("goodAddEdit/setModelProps",{type:e.$route.query.type})})),a={},e.getDispatchEnable(a),e.getDispatchTemplateList(e.subShopId),e.getVipLevels(),t.next=8,e.getShopClassify();case 8:return c.default.setStore(e.$store),e.$store.commit("goodAddEdit/setValidateType",[]),e.$store.dispatch("config/getDeduction"),e.$store.dispatch("config/getBusiness"),t.next=14,e.getGoodData({id:e.id,operate:e.operate});case 14:e.getVirtualData(),e.loading=!1;case 16:case"end":return t.stop()}}),t)})))()}};t.default=u},"5522a":function(e,t,a){},5673:function(e,t,a){"use strict";a.r(t);var i=a("0c63"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"583f":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(a("2909"));function s(e,t){var a=[];function i(e,s){e.forEach((function(e){var o=[].concat((0,n.default)(s),[e]);e.children&&e.children.length?i(e.children,o):t||a.push(o),t&&a.push(o)}))}return i(e,[]),a}a("d3b7"),a("159b"),a("99af"),a("14d9")},"599a":function(e,t,a){},"5dd6":function(e,t,a){"use strict";a.r(t);var i=a("5381"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"5ee8":function(e,t,a){"use strict";a.r(t);var i=a("acf3"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"61c0":function(e,t,a){"use strict";a.r(t);var i=a("b4a8"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"634c":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return"0"===e.model_type||"1"===e.model_type?t("div",{staticClass:"level"},[t("kdx-form-title",{attrs:{content:"物流设置"}}),"1"===e.model_type?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"自动发货内容："}},[t("RadioGroup",{model:{value:e.model_auto_deliver,callback:function(t){e.model_auto_deliver=t},expression:"model_auto_deliver"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("支持")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("不支持")])])],1),"1"==e.model_auto_deliver?t("kdx-hint-text",[e._v("用户下单付款成功后订单自动完成")]):e._e(),"0"==e.model_auto_deliver?t("kdx-hint-text",[e._v("用户下单付款成功后商城自动发货，订单为待收货状态")]):e._e(),"1"===e.model_auto_deliver?t("div",{staticClass:"nest-box"},[t("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"自动发货内容：",prop:"auto_deliver_content"}},[t("Input",{staticClass:"width-430",attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入"},model:{value:e.model_auto_deliver_content,callback:function(t){e.model_auto_deliver_content=t},expression:"model_auto_deliver_content"}})],1)],1):e._e()],1):e._e(),"0"===e.model_type?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.logistics_support",modifiers:{logistics_support:!0}}],staticClass:"r-form-item-checkbox",attrs:{label:"物流支持：",prop:"logistics_support"}},[t("CheckboxGroup",{model:{value:e.model_logistics_support,callback:function(t){e.model_logistics_support=t},expression:"model_logistics_support"}},[t("div",{staticClass:"logistics-box"},[t("Checkbox",{attrs:{label:"1",disabled:0===e.dispatchEnable.express}},[e._v(" 快递发货 "),0===e.dispatchEnable.express?t("span",[e._v(" (当前不可用，请到 "),t("span",{staticStyle:{color:"#2D8CF0",cursor:"pointer"},on:{click:e.fnJumpOrdinaryExpress}},[e._v(" 【配送方式】 ")]),e._v(" 管理中开启) ")]):e._e()])],1),t("div",{staticClass:"logistics-box"},[t("Checkbox",{attrs:{label:"2",disabled:0===e.dispatchEnable.intracity}},[e._v(" 同城配送 "),0===e.dispatchEnable.intracity?t("span",[e._v(" (当前不可用，请到 "),t("span",{staticStyle:{color:"#2D8CF0",cursor:"pointer"},on:{click:e.fnJumpSamecityDelivery}},[e._v(" 【配送方式】 ")]),e._v(" 管理中开启) ")]):e._e()])],1)])],1):e._e(),"0"===e.model_type&&e.expressSelected("1")?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"运费设置：",prop:"dispatch_type"}},[t("RadioGroup",{on:{"on-change":e.changeDispatchCount},model:{value:e.model_dispatch_type,callback:function(t){e.model_dispatch_type=t},expression:"model_dispatch_type"}},[t("Radio",{attrs:{label:"0"}},[t("span",[e._v("包邮")])]),t("Radio",{attrs:{label:"1"}},[t("span",[e._v("选择模板")])]),t("Radio",{attrs:{label:"2"}},[t("span",[e._v("统一运费")])])],1),"1"===e.model_dispatch_type?t("div",{staticClass:"nest-box freight-setting"},[t("FormItem",{key:e.model_dispatch_id,attrs:{"label-width":0,prop:"dispatch_id"}},[t("Select",{staticClass:"width-430",model:{value:e.model_dispatch_id,callback:function(t){e.model_dispatch_id=t},expression:"model_dispatch_id"}},e._l(e.dispatchList,(function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.dispatch_name)+" ")])})),1),t("Button",{attrs:{type:"text"},on:{click:e.refreshDispatchTemplate}},[e._v(" 刷新 ")]),t("Button",{attrs:{type:"text"},on:{click:e.addDispatchTemplate}},[e._v(" 添加模板 ")]),t("kdx-hint-text",{attrs:{content:"运费模板支持按地区设置运费,按购买件数计算运费, 按重量计算运费等, 运费模板需要添加后刷新才能生效"}})],1)],1):e._e(),"2"===e.model_dispatch_type?t("div",{staticClass:"nest-box freight-setting"},[t("FormItem",{staticClass:"unify-freight",attrs:{prop:"dispatch_price"}},[t("kdx-rr-input",{staticClass:"width-340",attrs:{number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10,placeholder:"请输入"},model:{value:e.model_dispatch_price,callback:function(t){e.model_dispatch_price=t},expression:"model_dispatch_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1):e._e()],1):e._e()],1):e._e()};t.render=a;var i=[];t.staticRenderFns=i},6777:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"level"},[t("kdx-form-title",{attrs:{content:"商品状态"}}),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"上架设置：",prop:"status"}},[t("RadioGroup",{on:{"on-change":e.changeStatus},model:{value:e.model_status,callback:function(t){e.model_status=t},expression:"model_status"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("上架")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("保存至仓库")])]),t("Radio",{attrs:{label:"2"}},[t("span",[e._v("自动上架")])])],1),"2"===e.model_status?t("div",{staticClass:"nest-box"},[t("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"选择时间：",prop:"putaway_time"}},[t("DatePicker",{staticClass:"width-430",attrs:{placeholder:"选择时间",type:"datetime",options:e.dateOptions},model:{value:e.model_putaway_time,callback:function(t){e.model_putaway_time=t},expression:"model_putaway_time"}})],1)],1):e._e()],1),"2"!==e.model_type?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"退换货："}},[t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_ext_field.refund,callback:function(t){e.$set(e.model_ext_field,"refund",t)},expression:"model_ext_field.refund"}},[e._v(" 退款 ")]),"0"===e.model_type?t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_ext_field.return,callback:function(t){e.$set(e.model_ext_field,"return",t)},expression:"model_ext_field.return"}},[e._v(" 退货退款 ")]):e._e(),"0"===e.model_type?t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_ext_field.exchange,callback:function(t){e.$set(e.model_ext_field,"exchange",t)},expression:"model_ext_field.exchange"}},[e._v(" 换货 ")]):e._e(),t("kdx-hint-text",[e._v(" 勾选后支持整单售后, 多个商品同时满足相同条件可发起售后, 如需单件商品支持售后时, 需要开启 "),t("Button",{attrs:{type:"text",to:"/setting/safeguard/index",target:"_blank"}},[e._v(" 【支持单品售后】 ")])],1)],1):e._e(),"0"===e.model_type?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"货到付款：",prop:"ext_field.is_delivery_pay"}},[t("RadioGroup",{model:{value:e.model_ext_field.is_delivery_pay,callback:function(t){e.$set(e.model_ext_field,"is_delivery_pay",t)},expression:"model_ext_field.is_delivery_pay"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("是")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("否")])])],1)],1):e._e()],1)};t.render=a;var i=[];t.staticRenderFns=i},"6d61b":function(e,t,a){"use strict";a("1468")},"6dd0":function(e,t,a){function i(e,t,a){this.$children.forEach((function(n){var s=n.$options.name;s===e?n.$emit.apply(n,[t].concat(a)):i.apply(n,[e,t].concat([a]))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("b0c0"),a("99af");var n={methods:{dispatch:function(e,t,a){var i=this.$parent||this.$root,n=i.$options.name;while(i&&(!n||n!==e))i=i.$parent,i&&(n=i.$options.name);i&&i.$emit.apply(i,[t].concat(a))},broadcast:function(e,t,a){i.call(this,e,t,a)}}};t.default=n},"6f53":function(e,t,a){var i=a("83ab"),n=a("e330"),s=a("df75"),o=a("fc6a"),r=a("d1e7").f,l=n(r),c=n([].push),d=function(e){return function(t){var a,n=o(t),r=s(n),d=r.length,u=0,p=[];while(d>u)a=r[u++],i&&!l(n,a)||c(p,e?[a,n[a]]:n[a]);return p}};e.exports={entries:d(!0),values:d(!1)}},7084:function(e,t,a){"use strict";var i=a("309b");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"70cc":function(e,t,a){"use strict";var i=a("4aae");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"74c2":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_specs.png"},7666:function(e,t,a){"use strict";a.r(t);var i=a("a69d"),n=a("bc9d");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("e1a3");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"c2adc720",null);t["default"]=r.exports},"770e":function(e,t,a){"use strict";var i=a("1874");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"81c2":function(e,t,a){"use strict";a.r(t);var i=a("3a73"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},8340:function(e,t,a){"use strict";a("599a")},"860c":function(e,t,a){"use strict";var i=a("db13");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"870e":function(e,t,a){"use strict";a.r(t);var i=a("b50f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},8812:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.stateMap=t.modelMap=void 0,a("ac1f"),a("5319"),a("d3b7"),a("159b");var n=i(a("ade3")),s=i(a("4360")),o=function(){var e={},t=s.default.state.goodAddEdit.model,a=function(t){e["model_".concat(t)]={get:function(){return s.default.state.goodAddEdit.model[t]},set:function(e){s.default.commit("goodAddEdit/setModelProps",(0,n.default)({},t,e))}}};for(var i in t)a(i);return e};t.modelMap=o;var r=function(e){var t={};return"string"===typeof e?t=(0,n.default)({},e,{get:function(){return s.default.state.goodAddEdit[e]},set:function(t){s.default.commit("goodAddEdit/set".concat(e.replace(/^./,(function(e){return e.toUpperCase()}))),t)}}):e instanceof Array&&e.forEach((function(e){t[e]={get:function(){return s.default.state.goodAddEdit[e]},set:function(t){s.default.commit("goodAddEdit/set".concat(e.replace(/^./,(function(e){return e.toUpperCase()}))),t)}}})),t};t.stateMap=r},"88da":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"添加标签","class-name":"shop-label-modal"},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"shop-label"},[e.recommendList.length>0?t("div",{staticClass:"recommend"},[t("p",{staticClass:"title"},[e._v("推荐标签")]),t("div",{staticClass:"label-content-recommend"},e._l(e.recommendList,(function(a,i){return t("div",{key:i,staticClass:"shop-label-item",class:{checked:a.checked},on:{click:function(t){return e.setLabelChecked("recommend",i,!a.checked)}}},[t("span",[e._v(" "+e._s(a.name))]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-chenggong-shixin-y"}})],1)})),0)]):e._e(),t("div",{staticClass:"custom"},[t("div",{staticClass:"recommend"},[t("p",{staticClass:"title"},[t("span",{staticClass:"custom"},[e._v("自定义标签组")]),t("Button",{attrs:{type:"text"},on:{click:e.addLabel}},[e._v("+新建标签组")]),t("Button",{attrs:{type:"text"},on:{click:e.getLabelData}},[e._v("刷新")])],1),e.customList.length>0?t("div",{staticClass:"label-content"},e._l(e.customList,(function(a,i){return t("div",{key:i,staticClass:"label-content-box"},[t("div",{staticClass:"custom-title"},[e._v(" "+e._s(a.name)+" ")]),t("div",{staticClass:"shop-label-item-box"},e._l(a.label,(function(a,n){return t("div",{key:n,staticClass:"shop-label-item",class:{checked:a.checked},on:{click:function(t){return e.setLabelChecked("custom",n,!a.checked,i)}}},[t("span",[e._v(" "+e._s(a.name))]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-chenggong-shixin-y"}})],1)})),0)])})),0):t("div",{staticClass:"label-no"},[e._v("暂无数据")])])]),t("Spin",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{fix:""}})],1)])};t.render=i;var n=[];t.staticRenderFns=n},"8b8a":function(e,t,a){},"8fff":function(e,t,a){"use strict";a.r(t);var i=a("1ac4"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},9610:function(e,t,a){"use strict";a("0071")},"9cb6":function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_sale.png"},a24f:function(e,t,a){"use strict";var i=a("88da");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},a3ea:function(e,t,a){"use strict";var i=a("5324");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},a69d:function(e,t,a){"use strict";var i=a("f998");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},acf3:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("5530")),s=i(a("0a6e")),o=a("8812"),r={components:{MultiSelect:s.default},computed:(0,n.default)({},(0,o.modelMap)()),methods:{}};t.default=r},b21a:function(e,t,a){"use strict";a("8b8a")},b2de5:function(e,t,a){"use strict";a.r(t);var i=a("086b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},b434:function(e,t,a){"use strict";var i=a("07af");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},b4a8:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),a("4de4"),a("a434"),a("a15b"),a("3c65");var n=i(a("5530")),s=i(a("2917")),o=i(a("f431")),r=a("8812"),l=a("2f62"),c={components:{CollapsePanel:s.default,TreeSelect:o.default},computed:(0,n.default)((0,n.default)((0,n.default)((0,n.default)({isEdit:function(){return!!this.$route.query.operate},emsg:function(){return"商品分类数据发生变化，请重新设置商品分类"}},(0,l.mapState)("goodAddEdit",{is_activity_goods:function(e){var t;return 1==(null===e||void 0===e||null===(t=e.model)||void 0===t?void 0:t.is_activity_goods)},goodsDecorate:function(e){return null===e||void 0===e?void 0:e.goodDecrate}})),(0,r.modelMap)()),(0,r.stateMap)(["isShowVideo","isThumbAddSlide","rules","shopLabel","shopLevel"])),{},{showErrContent:function(){var e=this,t=!1,a=function a(i){i.forEach((function(i){if(new Set(e.model_category_id).has(i.value)){if(i.children&&i.children.length){var n=i.children.map((function(e){return e.value})),s=n.filter((function(t){return e.model_category_id.indexOf(t)>=0}));n.length===s.length?a(i.children):t=!0}}else i.children&&i.children.length&&a(i.children)}))};return a(this.shopLevel),t}}),methods:{changeData:function(e){this.$store.commit("goodAddEdit/setShopLevel",e)},closeShopLabel:function(e){this.shopLabel.data.splice(e,1),this.model_label_id=this.shopLabel.data.map((function(e){return e.id})),this.shopLabel=(0,n.default)({},this.shopLabel)},editShopLabel:function(){this.shopLabel.value=!0,this.shopLabel=(0,n.default)({},this.shopLabel)},handleShopLevelChange:function(e){this.model_category_ids=e.join(",")},thumbAllChange:function(e){this.model_thumb_all=e},thumbAddSlideChange:function(){if(this.isThumbAddSlide)if(this.model_thumb_all.length>0){var e=this.model_thumb_all.indexOf(this.model_thumb);-1===e&&this.model_thumb_all.unshift(this.model_thumb)}else this.model_thumb_all=[this.model_thumb];else if(this.model_thumb_all.length>0){var t=this.model_thumb_all.indexOf(this.model_thumb);-1!==t&&this.model_thumb_all.splice(t,1)}else this.model_thumb_all=[]},changeVideo:function(e){this.model_video=e.path,this.$store.commit("goodAddEdit/setVideoParams",e)},changeVideoImage:function(e){this.model_video_thumb=e},addVideo:function(){this.isShowVideo=!0},changeThumb:function(e){if(this.isThumbAddSlide)if(this.model_thumb_all.length>0){var t=this.model_thumb_all.indexOf(this.model_thumb);t>-1?this.model_thumb_all[t]!==e&&(this.model_thumb_all.splice(t,1),e&&this.model_thumb_all.splice(t,0,e)):this.model_thumb_all.unshift(e)}else this.model_thumb_all=[e];this.model_thumb=e}}};t.default=c},b50f:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"RemindLabel",props:{title:{type:String}}};t.default=a},baa5:function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_swiper.png"},bb7c:function(e,t,a){"use strict";a("10ed")},bc9d:function(e,t,a){"use strict";a.r(t);var i=a("eb66"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},be78:function(e,t,a){"use strict";var i=a("6777");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},c6072:function(e,t,a){"use strict";a.r(t);var i=a("43be"),n=a("870e");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("9610");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"110ea137",null);t["default"]=r.exports},c62b4:function(e,t,a){"use strict";a("4f7f")},c703:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"collapse-panel"},[t("Collapse",{attrs:{simple:""},on:{"on-change":e.change}},[t("Panel",{attrs:{"hide-arrow":""}},[t("i",{staticClass:"ivu-icon icon-full-right iconfont"}),e._v(e._s(e.value)+" "),t("p",{attrs:{slot:"content"},slot:"content"},[e._t("default")],2)])],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},ca3f:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b0c0");var i={name:"CollapsePanel",props:{name:{type:String},expandName:{type:String}},data:function(){return{value:this.name}},methods:{change:function(e){e.length>0?this.value=this.expandName||this.name:this.value=this.name}}};t.default=i},d476:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("d3b7"),a("159b"),a("14d9"),a("a434");var n=i(a("2909")),s={name:"ShopLabel",props:{value:{type:Boolean,default:!1},defaultCheckedList:{type:Array,default:function(){return[]}},currentList:{type:Array,required:!0}},data:function(){return{selectRows:[],recommendList:[],customList:[],loading:!1}},watch:{value:{handler:function(e){e&&(this.currentList.length>0?this.selectRows=(0,n.default)(this.currentList):this.defaultCheckedList.length>0&&(this.selectRows=(0,n.default)(this.defaultCheckedList)),this.getLabelData())},immediate:!0}},methods:{handleCancel:function(){this.$emit("on-cancel"),this.initData()},handleOk:function(){this.$emit("on-change",JSON.parse(JSON.stringify(this.selectRows))),this.initData()},addLabel:function(){this.handleCancel(),this.$utils.openNewWindowPage("/goods/label/add")},initDefaultChecked:function(){var e=this;this.selectRows.length>0&&this.selectRows.forEach((function(t){e.recommendList.forEach((function(a,i){a.id===t.id&&e.$set(e.recommendList[i],"checked",!0)})),e.customList.forEach((function(a,i){a.label&&a.label.forEach((function(a,n){a.id===t.id&&e.$set(e.customList[i].label[n],"checked",!0)}))}))}))},setLabelChecked:function(e,t,a,i){var n=this;if("recommend"===e)if(this.$set(this.recommendList[t],"checked",a),a)this.selectRows.push(this.recommendList[t]);else{var s=-1;this.selectRows.forEach((function(e,a){e.id===n.recommendList[t].id&&(s=a)})),this.selectRows.splice(s,1)}else if("custom"===e)if(this.$set(this.customList[i].label[t],"checked",a),a)this.selectRows.push(this.customList[i].label[t]);else{var o=-1;this.selectRows.forEach((function(e,a){e.id===n.customList[i].label[t].id&&(o=a)})),this.selectRows.splice(o,1)}},initData:function(){this.recommendList.forEach((function(e){e.checked=!1})),this.customList.forEach((function(e){e.label&&e.label.forEach((function(e){e.checked=!1}))}))},getLabelData:function(){var e=this;this.loading=!0,this.$api.goodsApi.getGoodLabel({pager:"0"}).then((function(t){e.loading=!1,0===t.error&&(e.customList=t.data||[],e.recommendList=t.recommend||[],e.initDefaultChecked())}))}}};t.default=s},d4a9:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("53ca"));a("a9e3"),a("e9c4"),a("d81d"),a("d3b7"),a("159b"),a("4de4"),a("a15b");var s=i(a("6dd0")),o=i(a("583f")),r=a("3101"),l=[],c={name:"TreeSelect",mixins:[s.default],props:{value:{type:[String,Number,Array]},data:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},loadData:{type:Function},transfer:{type:Boolean,default:function(){return!(!this.$IVIEWPRO||""===this.$IVIEWPRO.transfer)&&this.$IVIEWPRO.transfer}},checkStrictly:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择"},isHandlePath:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,isChangeValueInTree:!1,isValueChangeByTree:!1,tmpData:[]}},watch:{value:{handler:function(e){var t;this.isChangeValueInTree?this.isChangeValueInTree=!1:(this.currentValue=e,null===(t=this.$refs.select)||void 0===t||t.reset(),l=(0,o.default)(this.data,this.isHandlePath),this.handleUpdateTreeNodes(this.tmpData,!0),this.tmpData=JSON.parse(JSON.stringify(this.tmpData)))},deep:!0},data:{handler:function(){var e;(this.tmpData=JSON.parse(JSON.stringify(this.data)),l=(0,o.default)(this.data,this.isHandlePath),this.isChangeValueInTree)?this.isChangeValueInTree=!1:(null===(e=this.$refs.select)||void 0===e||e.reset(),this.handleUpdateTreeNodes(this.tmpData,!0))},deep:!0}},computed:{valueToArray:function(){return"object"===(0,n.default)(this.currentValue)?this.isHandlePath?(0,r.formatData)(this.currentValue,this.tmpData):this.currentValue:[this.currentValue]},isCheckboxUsable:function(){return this.multiple&&this.showCheckbox},transferClassName:function(){return this.transfer?"ivu-tree-select-transfer":""},classes:function(){return{"ivu-tree-select-with-checkbox":this.showCheckbox}}},methods:{handleSelectNode:function(e,t){if(this.$emit("change-data",this.tmpData),this.multiple)e.length?(this.currentValue=e.map((function(e){return e.value})),this.handleUpdateSelectValue(t.value,t.title)):(this.currentValue=[],this.handleUpdateSelectValue("","")),this.traverseData(this.tmpData,this.currentValue);else if(e.length){var a=e[0];this.currentValue=a.value,this.handleUpdateSelectValue(a.value,a.title)}else this.currentValue="",this.handleUpdateSelectValue("","");this.isChangeValueInTree=!0,this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue),this.dispatch("FormItem","on-form-change",this.currentValue)},handleUpdateTreeNodes:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(e){t.valueToArray.indexOf(e.value)>=0?(t.isCheckboxUsable?e.checked=!0:e.selected=!0,t.handleUpdateSelectValue(e.value,e.title)):t.isCheckboxUsable?e.checked=!1:e.selected=!1,e.children&&e.children.length&&t.handleUpdateTreeNodes(e.children)})),a&&this.$refs.select&&(this.$refs.select.isFocused=!1)},handleUpdateSelectValue:function(e){if(""===e){var t;null===(t=this.$refs.select)||void 0===t||t.reset()}else{this.isValueChangeByTree=!0;var a=l.filter((function(t){return t[t.length-1].value==e}))[0];a&&a.length>0&&this.$refs.select&&this.$refs.select.onOptionClick({value:e,label:a.map((function(e){return e.title})).join("->")||""}),this.multiple||(this.isValueChangeByTree=!1)}},handleChange:function(e){var t,a=this;this.isValueChangeByTree?this.isValueChangeByTree=!1:(this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e),null===(t=this.$refs.select)||void 0===t||t.reset(),this.handleUpdateTreeNodes(this.tmpData,!0),this.$emit("change-data",this.tmpData),this.$nextTick((function(){a.isValueChangeByTree=!1})))},handleOpenChange:function(e){this.$emit("on-open-change",e)},traverseData:function(e,t){var a=this;e.forEach((function(e){t.indexOf(e.value)>-1?e.checked=!0:e.checked=!1,e.children&&e.children.length>0&&a.traverseData(e.children,t)}))}},mounted:function(){var e;null!==(e=this.data)&&void 0!==e&&e.length&&(this.tmpData=JSON.parse(JSON.stringify(this.data))),l=(0,o.default)(this.data,this.isHandlePath),this.handleUpdateTreeNodes(this.data,!0)}};t.default=c},d51a:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.stateMap=t.modelMap=void 0,a("ac1f"),a("5319"),a("d3b7"),a("159b");var n=i(a("ade3")),s=i(a("4360")),o=function(){var e={},t=s.default.state.goodAddEdit.model,a=function(t){e["model_".concat(t)]={get:function(){return s.default.state.goodAddEdit.model[t]},set:function(e){s.default.commit("goodAddEdit/setModelProps",(0,n.default)({},t,e))}}};for(var i in t)a(i);return e};t.modelMap=o;var r=function(e){var t={};return"string"===typeof e?t=(0,n.default)({},e,{get:function(){return s.default.state.goodAddEdit[e]},set:function(t){s.default.commit("goodAddEdit/set".concat(e.replace(/^./,(function(e){return e.toUpperCase()}))),t)}}):e instanceof Array&&e.forEach((function(e){t[e]={get:function(){return s.default.state.goodAddEdit[e]},set:function(t){s.default.commit("goodAddEdit/set".concat(e.replace(/^./,(function(e){return e.toUpperCase()}))),t)}}})),t};t.stateMap=r},db13:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods-type"},[t("kdx-form-title",{attrs:{content:"商品类型"}}),t("FormItem",{attrs:{label:"",prop:"type"}},[t("multi-select",{model:{value:e.model_type,callback:function(t){e.model_type=t},expression:"model_type"}})],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},dbc6:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"level"},[t("kdx-form-title",{attrs:{content:"交易设置"}}),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"规格设置：",prop:"has_option"}},[t("RadioGroup",{staticClass:"flex",model:{value:e.model_has_option,callback:function(t){e.model_has_option=t},expression:"model_has_option"}},[t("Radio",{attrs:{label:"0",disabled:e.is_activity_goods}},[t("span",[e._v("单规格")])]),t("Radio",{attrs:{label:"1",disabled:e.is_activity_goods}},[t("span",[e._v("多规格")])]),t("div",{staticClass:"flex"},[t("kdx-hint-text",{staticStyle:{"padding-top":"0"},attrs:{content:"如有颜色、尺码等多种规格，请添加商品规格"}},[t("kdx-hint-tooltip",{attrs:{type:"image",image:a("74c2")}})],1)],1)],1),t("kdx-hint-alert",{staticStyle:{"margin-top":"10px"}},[e._v("如切换规格后，会员折扣需要重新设置，如果不设置则为系统默认该商品不支持会员折扣")]),t("div",{staticClass:"nest-box",staticStyle:{padding:"0"}},["0"===e.model_has_option?t("div",{staticClass:"single-one",staticStyle:{"padding-top":"30px"}},[t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.price",modifiers:{price:!0}}],attrs:{label:"售卖价：",prop:"price"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",disabled:e.is_activity_goods,number:"",fixed:2,"min-value":0,"max-value":9999999.99},model:{value:e.model_price,callback:function(t){e.model_price=t},expression:"model_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1),t("FormItem",{attrs:{label:"划线价：",prop:"original_price"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},model:{value:e.model_original_price,callback:function(t){e.model_original_price=t},expression:"model_original_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1),t("FormItem",{attrs:{prop:"cost_price"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t("span",[e._v("成本价")]),t("kdx-hint-tooltip",[e._v("尽量填写完整, 有助于商品销售的数据分析")]),t("span",[e._v("：")])],1)]},proxy:!0}],null,!1,2197376682)},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},model:{value:e.model_cost_price,callback:function(t){e.model_cost_price=t},expression:"model_cost_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1):e._e(),"0"===e.model_has_option?t("div",{staticStyle:{"padding-bottom":"30px"}},["2"!=e.model_type?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.stock",modifiers:{stock:!0}}],staticStyle:{"margin-bottom":"0",display:"flex"},attrs:{label:"库存：",prop:"stock"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入库存",disabled:e.is_activity_goods,number:"",fixed:0,"max-value":999999999},model:{value:e.model_stock,callback:function(t){e.model_stock=t},expression:"model_stock"}})],1):t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.virtual_account_id",modifiers:{virtual_account_id:!0}}],staticStyle:{"margin-bottom":"0",display:"flex"},attrs:{label:"卡密库：",prop:"virtual_account_id"}},[t("Select",{staticStyle:{width:"520px"},attrs:{filterable:"",clearable:"","not-found-text":"暂无卡密库数据"},model:{value:e.model_virtual_account_id,callback:function(t){e.model_virtual_account_id=t},expression:"model_virtual_account_id"}},e._l(e.virtualList,(function(a){return t("Option",{key:a.id,attrs:{value:a.id,label:a.name}},[t("span",[e._v(e._s(a.name))]),t("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v("库存："+e._s(a.total_count))])])})),1)],1)],1):"1"===e.model_has_option?t("div",{staticClass:"single-more"},[t("multi-option",{attrs:{model_type:e.model_type,actionType:e.actionType,flag:1},on:{"form-error":e.formError}})],1):e._e()])],1),"2"!=e.model_type?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"库存设置：",prop:"reduction_type"}},[t("RadioGroup",{staticStyle:{"margin-bottom":"-10px"},model:{value:e.model_reduction_type,callback:function(t){e.model_reduction_type=t},expression:"model_reduction_type"}},[t("div",{staticClass:"inventory-settings"},[t("Radio",{attrs:{label:"0",disabled:e.isSeckill}},[t("span",[e._v("下单减库存")]),t("remind-label",{attrs:{title:"推荐"}})],1),t("Button",{directives:[{name:"show",rawName:"v-show",value:!e.isMoreInventorySetting,expression:"!isMoreInventorySetting"}],staticStyle:{display:"block","font-size":"12px",height:"inherit","padding-top":"10px"},attrs:{type:"text"},on:{click:e.getMoreInventorySetting}},[e._v("更多选项 "),t("span",{staticClass:"iconfont icon-line-right"})]),t("kdx-hint-text",{directives:[{name:"show",rawName:"v-show",value:e.isMoreInventorySetting,expression:"isMoreInventorySetting"}],attrs:{errContent:"恶意占用库存风险"}},[e._v("买家提交订单, 扣减库存数量, 可能会存在 ")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMoreInventorySetting,expression:"isMoreInventorySetting"}],staticClass:"inventory-settings"},[t("Radio",{attrs:{label:"1",disabled:e.isSeckill}},[t("span",[e._v("付款减库存")])]),t("kdx-hint-text",{attrs:{errContent:"超卖风险"}},[e._v("买家支付成功, 扣减库存数量, 可能会存在")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMoreInventorySetting,expression:"isMoreInventorySetting"}],staticClass:"inventory-settings"},[t("Radio",{attrs:{label:"2",disabled:e.isSeckill}},[t("span",[e._v("永不减库存")])]),t("kdx-hint-text",[e._v(" 无论在下单还是在支付成功, 该商品永远不会扣减库存数量 ")])],1)])],1):e._e(),t("collapse-panel",{attrs:{name:"展开更多交易设置","expand-name":"收起更多交易设置"}},[["0"===e.model_has_option?[2!=e.model_type?t("FormItem",{attrs:{label:"商品编码：",prop:"goods_sku"}},[t("Input",{staticClass:"width-430",attrs:{placeholder:"请输入商品编码"},model:{value:e.model_goods_sku,callback:function(t){e.model_goods_sku=t},expression:"model_goods_sku"}})],1):e._e(),2!=e.model_type?t("FormItem",{attrs:{label:"商品条码：",prop:"bar_code"}},[t("Input",{staticClass:"width-430",attrs:{placeholder:"请输入商品条码"},model:{value:e.model_bar_code,callback:function(t){e.model_bar_code=t},expression:"model_bar_code"}})],1):e._e(),"0"===e.model_type?t("FormItem",{attrs:{label:"商品重量：",prop:"weight"}},[t("kdx-rr-input",{staticClass:"width-430",attrs:{number:"",fixed:2,"min-value":0,"max-value":999999999.99,maxlength:12,placeholder:"请输入"},model:{value:e.model_weight,callback:function(t){e.model_weight=t},expression:"model_weight"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("克")])])],1):e._e()]:e._e(),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{prop:"ext_field.show_stock",label:"显示库存："}},[t("RadioGroup",{model:{value:e.model_ext_field.show_stock,callback:function(t){e.$set(e.model_ext_field,"show_stock",t)},expression:"model_ext_field.show_stock"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("是")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("否")])])],1),t("kdx-hint-text",{attrs:{content:"商品详情页中是否显示库存字段"}},[t("kdx-hint-tooltip",{attrs:{type:"image",image:a("48af")}})],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"支持发票：",prop:"ext_field.invoice"}},[t("RadioGroup",{on:{"on-change":e.invoiceChange},model:{value:e.model_ext_field.invoice,callback:function(t){e.$set(e.model_ext_field,"invoice",t)},expression:"model_ext_field.invoice"}},[t("Radio",{attrs:{label:"1"}},[t("span",[e._v("是")])]),t("Radio",{attrs:{label:"0"}},[t("span",[e._v("否")])])],1)],1)]],2)],1)};t.render=i;var n=[];t.staticRenderFns=n},e01c:function(e,t,a){"use strict";a("ff90")},e1a3:function(e,t,a){"use strict";a("f3c7")},e7b3:function(e,t,a){"use strict";a("037e")},eb66:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("ade3")),s=i(a("5530"));a("a9e3"),a("d81d"),a("d3b7");var o=i(a("0d87")),r=i(a("2315")),l=i(a("1127")),c=i(a("35c7")),d=i(a("49965")),u=i(a("52a5")),p=a("8812"),f={name:"index",components:{ShopLabelSelector:o.default,GoodsType:l.default,BasicInfo:r.default,TransactionSettings:c.default,CommodityStatus:u.default,LogisticsSettingsms:d.default},props:{curTab:{type:[String,Number],default:""},form_status:{type:[String,Number],default:-1}},computed:(0,s.default)((0,s.default)({},(0,p.stateMap)("shopLabel")),{},{goodAddEditModel:function(){return this.$store.state.goodAddEdit.model}}),methods:{onValidate:function(e,t){this.cacheError=(0,s.default)((0,s.default)({},this.cacheError),{},(0,n.default)({},e,t))},shopLabelChange:function(e){this.shopLabel=(0,s.default)((0,s.default)({},this.shopLabel),{},{data:e}),this.$store.state.goodAddEdit.model.label_id=e.map((function(e){return e.id})),this.shopLabelCancel()},shopLabelCancel:function(){this.shopLabel=(0,s.default)((0,s.default)({},this.shopLabel),{},{value:!1})},validate:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate((function(a){t(a),e.$nextTick((function(){if(!a)for(var t in e.cacheError)if(!e.cacheError[t]){e.$focusError(t);break}}))}))}))}},beforeDestroy:function(){this.$store.commit("goodAddEdit/multiOptions/init")}};t.default=f},ed26:function(e,t,a){"use strict";a.r(t);var i=a("d4a9"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},ef19:function(e,t,a){"use strict";a.r(t);var i=a("b434"),n=a("fdaa");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("6d61b");var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"35cce3c3",null);t["default"]=r.exports},f28e:function(e,t,a){e.exports=a.p+"static/dist/shop/img/shop_main.png"},f36d:function(e,t,a){},f3be0:function(e,t,a){"use strict";a.r(t);var i=a("ca3f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},f3c7:function(e,t,a){},f431:function(e,t,a){"use strict";a.r(t);var i=a("70cc"),n=a("ed26");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);var o=a("2877"),r=Object(o["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=r.exports},f998:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"good-add-base"},[t("Form",{ref:"form",attrs:{model:e.goodAddEditModel,rules:e.$store.state.goodAddEdit.rules,"label-width":120},on:{"on-validate":e.onValidate}},[t("goods-type"),t("basic-info"),t("transaction-settings"),t("logistics-settingsms"),t("commodity-status",{attrs:{form_status:e.form_status}})],1),t("shop-label-selector",{attrs:{"current-list":e.shopLabel.data},on:{"on-change":e.shopLabelChange,"on-cancel":e.shopLabelCancel},model:{value:e.shopLabel.value,callback:function(t){e.$set(e.shopLabel,"value",t)},expression:"shopLabel.value"}})],1)};t.render=a;var i=[];t.staticRenderFns=i},fc45:function(e,t,a){"use strict";var i=a("c703");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},fdaa:function(e,t,a){"use strict";a.r(t);var i=a("04c9"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},ff90:function(e,t,a){}}]);